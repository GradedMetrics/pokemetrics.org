{"version":3,"sources":["components/Loading.tsx","assets/patreon-icon.png","components/PageFooter.tsx","assets/discord-icon.png","components/Navigation.tsx","components/PageHeader.tsx","utils/keys.ts","utils/strings.ts","utils/data.ts","utils/api.ts","utils/urls.ts","hocs/withSingleContentLoad.tsx","components/CardName.tsx","components/AutoComplete.tsx","components/Modal.tsx","components/Variant.tsx","help/GradeTable.tsx","components/Tooltip.tsx","utils/grades.ts","components/GradeTable/TableData.tsx","components/GradeTable.tsx","components/ExpansionCard.tsx","assets/psa-logo.png","components/PSASetLink.tsx","trees/Expansions.tsx","components/SearchPage.tsx","pages/ExpansionList.tsx","help/DataNormalization.tsx","pages/Help.tsx","pages/Home.tsx","assets/discord-logo.png","trees/PokemonExpansions.tsx","pages/MiscList.tsx","pages/PokemonList.tsx","components/RankSegment.tsx","pages/Ranks.tsx","pages/Stats.tsx","App.tsx","index.tsx"],"names":["Loading","CircularProgress","socialButtonProps","backgroundPosition","backgroundRepeat","backgroundSize","boxSizing","color","display","fontSize","lineHeight","height","padding","width","textDecoration","useStyles","makeStyles","theme","discord","backgroundColor","backgroundImage","marginRight","spacing","patreon","PatreonIcon","PageFooter","classes","Container","maxWidth","Divider","Box","my","Typography","variant","Date","getFullYear","Link","href","rel","paragraph","className","target","console","log","link","borderBottom","palette","text","primary","margin","textAlign","borderBottomColor","grey","breakpoints","down","linkActive","secondary","main","linkText","marginTop","toolbar","justifyContent","pages","icon","path","withRouter","alignContent","Toolbar","disableGutters","map","component","ReactRouterLink","activeClassName","to","cursor","subtitle","title","version","PageHeader","exact","align","v","toString","substr","undefined","mapKeys","data","cachedKeys","sessionStorage","getItem","Error","keys","JSON","parse","normalise","content","Array","isArray","Object","entries","reduce","response","originalKey","originalValue","key","formatCardName","name","number","psaName","variants","options","defaultName","numberParens","numberPrefix","parts","includeFormattedNumber","push","includeFormattedName","join","formatExpansionName","language","year","showYear","unshift","formatYear","formatPokemonName","translation","hideNumber","twoDigitYear","length","Number","split","yearStart","yearEnd","getDynamicCardSearchPlaceholder","cards","getRandomArrayEntry","arr","Math","floor","random","populatePartsArray","numbered","filter","card","unique","indexOf","sortExpansions","expansions","sortByExpansionName","a","b","aName","bName","error","sort","aYear","aYearAsNumber","bYear","bYearAsNumber","aIsMultiYear","bIsMultiYear","API_URL","fetch","file","cachedData","window","then","json","setItem","stringify","cachedVersion","clear","cachedVersionNumber","newVersionNumber","getExpansion","expansionId","getMiscList","miscList","getPokemonList","pokemonList","rest","pokemon","find","toLowerCase","output","rank","rankTotal","total","miscData","misc","aNumber","aVariants","bNumber","bVariants","getExpansionCard","cardId","getExpansions","values","getPokemon","base","mappedResponse","mappedCardData","cardData","expansion","id","set","withRankInfo","entry","ranks","rankData","rankEntry","getPokemonRanks","getMiscRanks","getHistory","reverse","getRanks","urlFriendlyCardName","urlFriendlyExpansionName","urlFriendlyPokemonName","replace","withSingleContentLoad","WrappedComponent","apiFn","props","React","useState","setContent","isLoading","setLoading","useEffect","Asterisk","withTheme","styled","span","CardName","showExpansion","showNumberAsPrefix","typographyProps","mb","gutterBottom","AutoComplete","defaultInputValue","defaultSelectedOption","disabled","helperText","label","optionFormatter","optionGroupFormatter","onChange","placeholder","inputValue","setInputValue","value","setValue","autoHighlight","getOptionLabel","groupBy","includeInputInList","event","selectedOption","onInputChange","renderInput","params","TextField","InputProps","startAdornment","InputAdornment","position","renderOption","option","matches","match","index","highlight","modal","background","paper","border","boxShadow","shadows","right","md","top","Modal","children","isHelp","mobileLink","opener","useTheme","useMediaQuery","isOpen","setOpen","Button","type","onClick","open","onClose","Variant","variantMapping","body1","headingVariantMapping","h4","h5","h6","fakeGradeTotal","grade","half","qualifier","fakeGradeHistory","fill","date","grades","Greenie","totalBackground","Yellowie","historicBackground","GradeTableHelp","hideHelpButton","history","Hidden","smUp","Abbr","abbr","Tooltip","placement","flattenGrades","psa1","psa1Half","psa2","psa3","psa4","psa5","psa6","psa7","psa8","psa9","psa10","auth","overallTotal","description","hasQualifier","percentageOfTotal","getGradeChangeOverTime","weekly","monthly","yearly","WEEK_MILLISECONDS","now","latest","weeksSinceLastUpdate","defaultValue","GradeCount","compare","historyDeductsFromTotal","isHistoric","noData","TableCell","style","totalRowStyle","fontWeight","current","offset","percentage","toLocaleString","borderLeft","totalValue","dataValue","borderTop","getValueStyle","borderRight","TableData","flattenedWeeklyGrades","flattenedMonthlyGrades","flattenedYearlyGrades","getTotal","dataset","totalWeekly","totalMonthly","totalYearly","historyMatch","historyHasQualifier","historyName","weeklyData","monthlyData","yearlyData","percentageBackground","TableRow","xsDown","Wrapper","article","minWidth","GradeTable","mainHeadingStyle","historicHeadingStyle","TableContainer","Paper","Table","aria-label","size","TableHead","rowSpan","colSpan","TableBody","mt","bind","Muted","PSASetLink","identifier","parseInt","src","PSALogo","verticalAlign","alt","useHistory","selectedCard","setSelectedCard","isPageLoading","setPageLoading","totalCards","gradeHistory","location","pathname","pathExpansion","pathCard","urlSelectedCard","newPathCard","basePath","renderResult","urlFriendlyName","selected","setSelected","pathSelected","urlSelected","handleSelect","newPathSelected","selectedExpansion","DataNormalization","Help","hash","expanded","setExpanded","handleChange","panel","_","isExpanded","Accordion","AccordionSummary","expandIcon","AccordionDetails","Home","marginBottom","basePathLength","pathPokemon","selectedPokemon","RankListElement","ol","listStyle","flexShrink","RankList","hidden","p","popIncrease","RankSegment","Tabs","indicatorColor","textColor","newValue","Tab","highestPerformingMonthlyCards","highestPerformingWeeklyCards","highestPerformingYearlyCards","highestPerformingMonthlySets","highestPerformingWeeklySets","highestPerformingYearlySets","totalSets","GlobalStyle","createGlobalStyle","App","apiVersion","setAPIVersion","loading","versionData","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.40c82201.chunk.js","sourcesContent":["import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst Loading = () => {\r\n  return <CircularProgress />;\r\n}\r\n\r\nexport default Loading;","export default __webpack_public_path__ + \"static/media/patreon-icon.2e713f72.png\";","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { CSSProperties } from \"@material-ui/core/styles/withStyles\";\r\nimport Box from '@material-ui/core/Box';\r\nimport Container from '@material-ui/core/Container';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport DiscordIcon from '../assets/discord-icon.png';\r\nimport PatreonIcon from '../assets/patreon-icon.png';\r\n\r\nconst socialButtonProps: CSSProperties = {\r\n  backgroundPosition: '10px 50%',\r\n  backgroundRepeat: 'no-repeat',\r\n  backgroundSize: 16,\r\n  boxSizing: 'border-box',\r\n  color: '#fff',\r\n  display: 'inline-block',\r\n  fontSize: 14,\r\n  lineHeight: '26px',\r\n  height: 32,\r\n  padding: '4px 12px 4px 32px',\r\n  width: 162,\r\n\r\n  '&:hover, &:focus': {\r\n    textDecoration: 'none',\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  discord: {\r\n    backgroundColor: '#7289DA',\r\n    backgroundImage: `url(${DiscordIcon})`,\r\n    marginRight: theme.spacing(2),\r\n    ...socialButtonProps\r\n  },\r\n  patreon: {\r\n    backgroundColor: '#FF424D',\r\n    backgroundImage: `url(${PatreonIcon})`,\r\n    ...socialButtonProps\r\n  }\r\n}));\r\n\r\nconst PageFooter = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container maxWidth=\"md\">\r\n      <Divider />\r\n      <Box my={2}>\r\n        <Typography variant=\"overline\" display=\"block\" color=\"textSecondary\">\r\n          PokéMetrics &copy; {new Date().getFullYear()}\r\n        </Typography>\r\n        <Typography variant=\"subtitle2\" display=\"block\" color=\"textSecondary\">\r\n          Operated by <Link href=\"https://instagram.com/pichucollector\" rel=\"noreferrer noopener\">@pichucollector</Link>.\r\n        </Typography>\r\n        <Typography variant=\"subtitle2\" display=\"block\" color=\"textSecondary\">\r\n          Want to hack this to bits? The UI is <Link href=\"https://github.com/gradedmetrics/explorer\" rel=\"noreferrer noopener\">open source</Link>.\r\n        </Typography>\r\n        <Typography variant=\"subtitle2\" display=\"block\" color=\"textSecondary\" paragraph>\r\n          Want to read a blog all about Pichu? Of course you do! <Link href=\"https://pichu.blog\" rel=\"noreferrer noopener\">pichu.blog</Link>.\r\n        </Typography>\r\n        <Typography variant=\"caption\" display=\"block\" color=\"textSecondary\" paragraph>\r\n          <Link\r\n            className={classes.discord}\r\n            href=\"https://discord.gg/WNbxZJ93\"\r\n            target=\"blank\"\r\n          >\r\n            Join the Discord!\r\n          </Link>\r\n          <Link\r\n            className={classes.patreon}\r\n            href=\"https://www.patreon.com/bePatron?u=47497967\"\r\n            target=\"blank\"\r\n          >\r\n            Become a Patron!\r\n          </Link>\r\n        </Typography>\r\n      </Box>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default PageFooter;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALAAAADJCAYAAACDmrhXAAAPkklEQVR4Xu2djZHcNhKFgQjOiuBuI7A3Ap0ikBWBrQhsRSArAkkRSIrAUgS2I7AuAusisDPoqzdu7HE4/AHJBtEgH6tUW/ZwOI3XH5uNBgjEYHCIyFchhG/0Uv82uCQvcVwF/gohfEbzYoy/bm1mXHsBEfk2hPA0hABg/7X2Ovze6RUAzAD5Q4zxAvaSYxHAGmm/DyH8QGiXyMxzMxUAwG9jjO8zzw/ZAGvEfU1wc6XleRsUAMgvclKMWYA16r4LISBl4EEF9lTgTYzxxdQPTgIsIuiYAd7UQdvTeP4WFYACyI+fxRjR+bs5RgFWeH8JIaDCwIMK1FQAKcWTIYgHARYRVBV+J7w1fcbf7ikwCPENwJrzIvIybSBD3hT4GGN81jVqCGBUGn70ZjntoQKqAKoTb5IaVwCLCAYlEH15UAGvCqAzdx9j/AID+wAj72Xq4NV1tCsp8D7G+PwKYB2o+JkaUYFGFLhDFH6IwCKC1IETcRrxHs0Ml0GOC8BaNvuDolCBhhT4EmO8SwCj6oDqAw8q0JIC9wlg5L6c69CS62grFHiVAEb6wDm9hKI1BT4mgKU1y2kvFcCbHVEn7aD+y4MKNKcAAOboW3Nuo8FJAQJMFppWgAA37T4aT4DJQNMKEOCm3UfjCTAZaFoBAty0+2g8ASYDTStAgJt2H40nwGSgaQUIcNPuo/EEmAw0rQABbtp9NJ4Ak4GmFSDATbuPxhNgMtC0AgS4affReAJMBppWgAA37T4aT4DJQNMKEOCm3UfjCTAZaFoBAty0+2g8ASYDTStAgJt2H40nwGSgaQUIcNPuo/EE+JYB7EeGjUR+63yEzc1rbfiIzUw+qC3/0D1MYAv3MsEmLydfGw1wYCtTwPo5xgh4rw5d/PBlxfWTsSPPjV0wUm3D2nZf6/YQp1si94wAAwZENGyad9mqaQBaLPb9VKGtFXmTWXgafAwhfIox4u/o0QH6u7NE6LMADFDfzkCLRzIc/33FdGEuqU0wvx2LyukCuu8JUh/cjIeNzEcHGOnBqxgj/g5FWkRXOBiO3ppTAq7BR/0ElfjNtREev5VuysGd3Dsw46bEzXm4XaiOCvB7BXcsRUBEArRLom26CVLn7vLfYzfHXCgdSFsSXPibOms5gKeojBt1sL0dkHFt5POHAfloAAMq7KU71ukBuHAgwB07UiS9dOy0czcJxlJYl5yvqQBAxr/HM/Dhxv0wd1Npx/0QIB8FYAD2fCJVmAMXnSMA++tcbrkEvlLnKoDoZCKSDqU+kzdyL7XA9mpr05hSTcy+7hEAfhXCZdfGmzxQROAYOKgfcbN79tlKVjpRIzTyeETn/lZpk6kUTFaNEI2xV2BzR8sA4/GOqDuWLsAhcEyKLoeBdowyhTF12FJkRrvR2Ru8yXv58bvWKhatAvxGO2lDUReOgyOSA/E4TXXfyd56c+FnwmCtCacyGm7iyTSrE42hXTObXrYIMPLUJ0O+E5GfNOpm98yPBO2IJqlUiKcR+gKjN38nGjez8WWLAD/pd9Y0D8R2uXAWou3k4/Lo0E6kGCm9AMjPJtIvnIdI7P5oDeCb6Ks9cnTUMDqFTguPGQU6ZTSU3AY1E5EmonBrAF9FX83zviG46+5ZEUGk/TJUftTP3EfhlgDGbLH7da7it9Yo0EIUbglglMyYIqwhceV3Op3ilVco/7VWAMZj7q68HPyFrgJaV0Yu7HakrhWAMVEFJTIeOysgIsiDp+aO7GzR9c+1AvCjoaHiqsqd5Me1o/y71+a2APD7GONzrwKewS4R+cXrFMwWAL4ZuDgDNJ7a6Lmk5h1gdt6ckCwif3rszHkHGJPTMXbPo7ICXjtz3gG+m3tNprJfT/PzXjtzngHGa+/PTkNIAw31ODLnGWCOvDmDWkTwkgAmTrk5PAPM2q8bTP42RKetYmTOzeEVYKYPbhC5NkREMKixdQ0Ns9Z5BZjpg5mLbS/kLY3wCjDTB1vuzK7mLY3wCDDTBzPcylzIUxrhEWCmD2W4M7uqiKAS4WIdCY8Ac/DCDLUyF/I0qOENYL42VIY586t6mRvhDWBOXDdHrcwFvcyN8AYwp06W4c38ql6mWHoC+K8Y4yNzpRdcUEtEWPGxu6I5lqZCalNlWSpdw6G7nu9lX4/ak5z0fTlMsax6eAK4Wvksc73c2ZUerTypcKCXP7U70mWF9ppvansop3kCePe5vxPLr46xiCgMO4u93q83U1omK+eewBMCy0Tt/oTwUE7zBPDodlI5Xlx6jsKLd73WjOsXqVVvyCsRjdF/2BViEcEqlrjZqh1uAI4xxj1VMOhFm0JsUFvdvQTpIQ/2AvDokqkloDaKHIh2GHQxiXpGk8V3L0Ma2b3azV4A3lV4Q9FNXvnfkDr0HW96U+VQZfAky/mZ0XO8AIxOyOQulJta2fmyUfRNVzQp/RneULBr185w7emVXgDebfpkgYix6eYzyH379/be6Rhq1OgMVzk8AGwSxXLVK1C73JT+GKYPDxJU6BBLrv7W53kAeO+IYS32pgGYQkuY7jqjr0BQyObcA8CbIlh2S/VEEbEGeNMNWAjgXeeUiAhqwVV2NvIAsGk9dQ7okwC896BQ2h1qTn7zzz0AvHe0sF7jCzsivVjrmRIRuEIOXK0jVx3gCmJbP+42PUF07oNlL373BRELVFKy40FtgGuIbb26zOYOk/HbDZueCNnk9E4skJplmVIb4E0doKwW3gqN/R6s5rGa2G9cm941/03yGg/GZLu2NsAmQ7HZrf1/JcLqrVqT/N1wrQWTG2qpnji/1irutQHetYTWiRaIwlgiqfvmxVK/md58Bp05zINA9MUbG7sfteYG1wZ4Uwdoi5e044HO05otpIrMv92YSmwa0t6ipUbgKqW02gCbPILXir8S4qJvQKyAGJEXgWCXyVBjWpcYEs/x66kB1siBCIyceG4vNICCd9CK71enM+Zg01yKg5sJ8FZJG7qAFSgH5vAbqgK8dw14ShHtSGE49Kmeh1eNkCoA3E8hBMx5MJm8nuWZvztGuKkeK8iwB6DCht/UHtjn4iDALtxAI9YqUOv1IkbgtR7j924UqDGYURPgajVLsldGAQJcRldedScFCPAGoXUgAIML1XvkG5qx61e12oE3YlDN2HzUGE4+TAqhNV3MNEOpi7t7TuCoFZd3qGhY7sVXYzj5MABrTRdlJzgGURhv51Yt7m8OacYX6Ky59lJLhKar+RBgA4f1RoTwaMR8C5NHpIF5VS4xsFhgqaFwDM13V9Is3t5DReCk1sCw5ilBHlnlsgi8+gQ8FcBFV5HRDgrSie5kHaQWr2qMqhUPRZ0f0P4AlmbFyGK3/cXmcWhejRl+ayZHrZanZgSG0ZteSZ9rtToSEPdXoMTNg/z4w1HSC422ABbgDq24WXTqaq1X62sDDAaLvwIzM9cWUTnB7GZuwdzN2UmX0vyNfrRNp6B9mPBTrB+wYgZdbvNmz/MAMIwsPi9YozFmeE11MhLMn0o6fNYr0yUwPKLRBkw6GoMWV7jMntMAUWwSUk140UgvAO8CsXY04PScqYpwOqIWZn5h7d1iEWwO6M4+GZiZltPL32U7hNoL+3kDeDeIOyAjX8wBIjF22fAlhPBf/Wu6+Yvmschf8e9r/Zu7gjxuOICLgZzio5G1I29yiKcInGwyfdcsI7ph0njqsc9NIB+7XJo3DIj+0zsJMOEfrt2//j/1/yEtyAW1bwPyd6Q8xfbt6P7gin1F5lyw6XOPAKNBxco9Y2qpY7a+6LnJGQu/XKyeO6ERbrKhqs5C0+1O9wpw6oTs9q6Xl0fiQtcWLY31Ii8WhMEQ9K513jk9PAOcbMcjEvMaiuV1Hjojc46a+Lzo28iZ1ZsN5m/7agsApxZiBA01Y9OSUK13uba57erb0AOTckxr2Dqyhog797KrYVOWX6olgFNagdqmybzfWsOfy900+w2zfLgVcJMirQHc9WQaPVs1ZXLjRoezRFU4YfUrWp1h6O8WlhUrNPP6J1sGOLUkzWtIr5pnpRiNdtrmgMkelu9sbJ5G9Oau7fLzIwDcF/aym7sONuAv3jq4yg8N1iFz6Uw16mZYXjtiaQg6DZCsrXm7avsRAZ4SOA0qLBl9c+WwTGNw4w4NnGR+vZ3TzgZwO56hpVkKEOAsmXiSVwUIsFfP0K4sBQhwlkw8yasCBNirZ2hXlgIEOEsmnuRVAQLs1TO0K0sBApwlE0/yqgAB9uoZ2pWlAAHOkokneVWAAHv1DO3KUoAAZ8nEk7wqQIC9eoZ2ZSlAgLNk4kleFSDAXj1Du7IUIMBZMvEkrwoQYK+eoV1ZChDgLJl4klcFCLBXz9CuLAUIcJZMPMmrAgTYq2doV5YCBDhLJp7kVQEC7NUztCtLAQKcJRNP8qoAAfbqGdqVpQABzpKJJ3lVAABj2Xgsrc+DCjSnQITFIiLNWU6DLRXAip5YN27tRjOWtiy6VgL4j4EddBZdiCc3r8AT3T+vKYgTwD/rro/Ne4ENWK3AC91nDjvONwNxAhj7IGD7JB7nVeBhhfeWFv9OAGPx4z/P6zu2XBV4lDbRaQXiC8DakWMaQY6vtuxqAeIuwFi1HPkPj/MqcLPNr/c99B4A1igMgI++/P558Zxv+ZcY413/NBFx20fqA8xBjXknH/2M+6FNE71CfAWwRuGfdE/cozuK7RtWANv6vhn6SES+1WqVm/2SbwBWiDG03EwtkCSaKjC5YaJOPUCq6QLiMYBhXFMFbVMX8mIP5bSRSIzg5gLiQYA1CsNIlNYOsSEemVykwFU5bQLi6nyMAqwQMxIv8vthTr4pp41AXJ2PSYA7EL8MIfx4GPewIXMKDJbTPEI8C3AyWkRQH8Z8CaYUc+4/xueD5TRvEGcD3AEZRe0fWKU4BqUTrRgtp01A/DqEAD52OxYD3AEZnTzUBR9z9G43f+35Q59jjPdLf3Dv+ROrAe43TEROsTv6Uoe2fH6MEbveLz72hNgM4MWt5BcOrYCI7DKiS4APjVHdxu0xf4IA1/Xx4X+9NMQE+PAI1W+gQowKhfn8CQJc37+nsKDUJCACfAp8fDRSIcZgmNlMRwLsw7ensUJETOdPEODToOOnoQqxyagdAfbj19NZYjHgQYBPh42vBm9965kA+/LnKa3ZUismwKdExl+j15bZCLA/X57WIoV40WtKBPi0uPhs+NIyGwH26cdTW6UQY8AD880nDwI8pxA/r6ZATpmNAFdzD384R4G5MhsBzlGR51RVYKrMRoCruoY/nqvAWJmNAOcqyPOqKzBUZiPA1d1CA5Yo0C+zEeAl6vFcFwp0y2wE2IVLaMQaBUTk9f8A5EaiDTPSeDUAAAAASUVORK5CYII=\"","import React from 'react';\r\nimport {\r\n  NavLink as ReactRouterLink,\r\n  withRouter,\r\n} from 'react-router-dom';\r\nimport Box from '@material-ui/core/Box';\r\nimport Link from '@material-ui/core/Link';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport BubbleChartIcon from '@material-ui/icons/BubbleChart';\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport FormatListNumberedIcon from '@material-ui/icons/FormatListNumbered';\r\nimport NaturePeopleIcon from '@material-ui/icons/NaturePeople';\r\nimport StyleIcon from '@material-ui/icons/Style';\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n  console.log(theme);\r\n  return ({\r\n  link: {\r\n    borderBottom: '2px solid transparent',\r\n    color: theme.palette.text.primary,\r\n    margin: theme.spacing(1),\r\n    padding: theme.spacing(1),\r\n    textAlign: 'center',\r\n    textDecoration: 'none',\r\n    width: 80,\r\n\r\n    '&:hover, &:focus': {\r\n      borderBottomColor: theme.palette.grey[300],\r\n      textDecoration: 'none',\r\n    },\r\n\r\n    [theme.breakpoints.down('sm')]: {\r\n      margin: theme.spacing(1) / 2,\r\n      padding: theme.spacing(1) / 2,\r\n    },\r\n  },\r\n  linkActive: {\r\n    borderBottomColor: theme.palette.secondary.main,\r\n    color: theme.palette.text.primary,\r\n\r\n    '&:hover, &:focus': {\r\n      borderBottomColor: theme.palette.secondary.main,\r\n    },\r\n  },\r\n  linkText: {\r\n    display: 'block',\r\n    fontSize: 18,\r\n    marginTop: theme.spacing(1),\r\n\r\n    [theme.breakpoints.down('sm')]: {\r\n      fontSize: 14,\r\n      marginTop: theme.spacing(1) / 2,\r\n    },\r\n  },\r\n  toolbar: {\r\n    justifyContent: 'center',\r\n  },\r\n})});\r\n\r\nconst pages = [{\r\n  icon: <StyleIcon />,\r\n  path: '/sets',\r\n  text: 'Sets',\r\n}, {\r\n  icon: <FaceIcon />,\r\n  path: '/pokemon',\r\n  text: 'Pokémon',\r\n}, {\r\n  icon: <NaturePeopleIcon />,\r\n  path: '/misc',\r\n  text: 'Misc',\r\n}, {\r\n  icon: <BubbleChartIcon />,\r\n  path: '/stats',\r\n  text: 'Stats'\r\n}, {\r\n  icon: <FormatListNumberedIcon />,\r\n  path: '/rankings',\r\n  text: 'Top 10'\r\n}];\r\n\r\nconst Navigation = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Box alignContent=\"center\">\r\n      <Toolbar className={classes.toolbar} disableGutters>\r\n        {pages.map(({ icon, path, text }) => (\r\n          <Link\r\n            key={path}\r\n            component={ReactRouterLink}\r\n            activeClassName={classes.linkActive}\r\n            className={classes.link}\r\n            to={path}\r\n          >\r\n            <Typography component=\"span\">\r\n              {icon}\r\n              <Typography component=\"span\" className={classes.linkText}>\r\n                {text}\r\n              </Typography>\r\n            </Typography>\r\n          </Link>\r\n        ))}\r\n      </Toolbar>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default withRouter(Navigation);","import React from 'react';\r\nimport {\r\n  NavLink as ReactRouterLink,\r\n} from 'react-router-dom';\r\nimport Box from '@material-ui/core/Box';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Link from '@material-ui/core/Link';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Navigation from './Navigation';\r\nimport {\r\n  version,\r\n} from '../types';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  link: {\r\n    color: theme.palette.text.primary,\r\n    display: 'inline-block',\r\n    textDecoration: 'none',\r\n\r\n    '&:active, &:hover, &:focus': {\r\n      color: theme.palette.secondary.main,\r\n      textDecoration: 'none',\r\n    }\r\n  },\r\n  linkActive: {\r\n    color: theme.palette.secondary.main,\r\n    cursor: 'default',\r\n    textDecoration: 'none',\r\n\r\n    '&:active, &:hover, &:focus': {\r\n      color: theme.palette.secondary.main,\r\n      textDecoration: 'none',\r\n    }\r\n  },\r\n  subtitle: {\r\n    color: theme.palette.grey[600],\r\n  },\r\n  title: {\r\n    margin: '0 auto',\r\n  },\r\n  version: {\r\n    marginTop: -10,\r\n    textAlign: 'center',\r\n  }\r\n}));\r\n\r\ntype PageHeaderProps = {\r\n  version?: version,\r\n}\r\n\r\nconst PageHeader: React.FC<PageHeaderProps> = ({\r\n  version,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Box my={4}>\r\n      <Box textAlign=\"center\">\r\n        <Link\r\n          activeClassName={classes.linkActive}\r\n          className={classes.link}\r\n          component={ReactRouterLink}\r\n          to=\"/\"\r\n          exact\r\n        >\r\n          <Typography variant=\"h2\">\r\n            <span className={classes.subtitle}>Poké</span>\r\n            Metrics\r\n          </Typography>\r\n          {version ? (\r\n            <Typography\r\n              align=\"left\"\r\n              color=\"textSecondary\"\r\n              className={classes.version}\r\n              display=\"block\"\r\n              variant=\"overline\"\r\n            >\r\n              API v0.{version.v}.{version['@'].toString().substr(6, 16)}\r\n            </Typography>\r\n          ) : undefined}\r\n        </Link>\r\n      </Box>\r\n      <Box my={2}>\r\n        <Navigation />\r\n      </Box>\r\n      <Divider />\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default PageHeader;","/**\r\n * This function takes the cached keys object and maps an API response's keys to use the normalised\r\n * versions from that object.\r\n * @param data Parsed JSON response from the API.\r\n * @returns {(Object|Array)} The normalised (key-mapped) object or array of objects.\r\n */\r\nexport const mapKeys = (data: Object | Object[]) => {\r\n  const cachedKeys = sessionStorage.getItem('keys');\r\n\r\n  if (!cachedKeys) {\r\n    // This shouldn't happen unless the user clears storage between API calls.\r\n    throw new Error('Unable to map keys as keys have not been cached.');\r\n  }\r\n\r\n  const keys = JSON.parse(cachedKeys);\r\n\r\n  /**\r\n   * This function maps the keys from the passed-in object to those stored in the key mapping\r\n   * object. If a key is not contained in the key mapping it will default to using the original key\r\n   * from the passed-in object.\r\n   * @param object The object to normalise.\r\n   * @returns {Object} The normalised object.\r\n   */\r\n  const normalise: (content: any) => any = (content) => {\r\n    if (Array.isArray(content)) {\r\n      return content.map(normalise);\r\n    }\r\n\r\n    if (content !== null && typeof content === 'object') {\r\n      return Object.entries(content).reduce((response: Object, [originalKey, originalValue]) => {\r\n        const key = keys[originalKey] || originalKey;\r\n\r\n        if (originalValue !== null && typeof originalValue === 'object') {\r\n          return {\r\n            ...response,\r\n            [key]: normalise(originalValue)\r\n          };\r\n        }\r\n\r\n        return {\r\n          ...response,\r\n          [key]: originalValue,\r\n        }\r\n      }, {});\r\n    }\r\n\r\n    return content;\r\n  };\r\n\r\n  if (Array.isArray(data)) {\r\n    /**\r\n     * If the data passed in is an array of objects we iterate over it, normalising each entry to\r\n     * return a normalised array.\r\n     */\r\n    return data.map(normalise);\r\n  }\r\n\r\n  // If the data itself is a single object we simply return the normalised version of that.\r\n  return normalise(data);\r\n}","import {\r\n  card,\r\n  cardRanking,\r\n  expansion,\r\n  expansionRanking,\r\n  pokemon,\r\n} from '../types';\r\n\r\ntype formatCardNameOptions = {\r\n  defaultName?: string\r\n  numberParens?: boolean\r\n  numberPrefix?: boolean\r\n}\r\n\r\n/**\r\n * Generate a human-readable card name from a card object.\r\n * @param {card} card The card object.\r\n * @param {formatCardNameOptions} options Name format options\r\n * @returns {string} The formatted card name.\r\n */\r\nexport const formatCardName: ((card: card | cardRanking, options?: formatCardNameOptions) => string) = ({\r\n  name,\r\n  number,\r\n  psaName,\r\n  variants,\r\n}, options = {}) => {\r\n  const {\r\n    defaultName,\r\n    numberParens = true,\r\n    numberPrefix = false,\r\n  } = (options || {});\r\n\r\n  const parts = [];\r\n\r\n  const includeFormattedNumber = () => {\r\n    if (!number) {\r\n      return;\r\n    }\r\n    \r\n    if (numberPrefix) {\r\n      parts.push(`#${number} :`);\r\n      return;\r\n    }\r\n\r\n    if (numberParens) {\r\n      parts.push(`(${number})`);\r\n      return;\r\n    }\r\n\r\n    parts.push(number);\r\n  };\r\n\r\n  const includeFormattedName = () => {\r\n    parts.push(`${name || defaultName}${psaName ? '*' : ''}`);\r\n  }\r\n  \r\n  if (numberPrefix) {\r\n    includeFormattedNumber();\r\n    includeFormattedName();\r\n  } else {\r\n    includeFormattedName();\r\n    includeFormattedNumber();\r\n  }\r\n\r\n  if (Array.isArray(variants)) {\r\n    parts.push(`{${variants.join(', ')}}`);\r\n  }\r\n\r\n  return parts.join(' ');\r\n}\r\n\r\ntype formatExpansionNameOptions = {\r\n  showYear?: boolean\r\n}\r\n\r\n/**\r\n * Generate a human-readable expansion name from an expansion object.\r\n * @param {expansion | expansionRanking} expansion The expansion object.\r\n * @param {formatExpansionNameOptions} options A collection of options.\r\n * @returns {string} The formatted expansion name.\r\n */\r\nexport const formatExpansionName: ((\r\n  expansion: expansion | expansionRanking,\r\n  options?: formatExpansionNameOptions\r\n) => string) = ({\r\n  name,\r\n  language,\r\n  variant,\r\n  year,\r\n}, options) => {\r\n    const {\r\n      showYear = true,\r\n    } = (options || {});\r\n\r\n    const parts = [name];\r\n\r\n    if (showYear) {\r\n      parts.unshift(formatYear(year));\r\n    }\r\n\r\n    if (language) {\r\n      parts.push(`[${language}]`);\r\n    }\r\n\r\n\r\n    if (variant) {\r\n      parts.push(`(${variant})`);\r\n    }\r\n\r\n    return parts.join(' ');\r\n  }\r\n\r\ntype formatPokemonOptions = {\r\n  hideNumber?: boolean\r\n}\r\n\r\n/**\r\n * Generate a human-readable Pokémon name from a Pokémon object.\r\n * @param {pokemon} pokemon The Pokémon object.\r\n * @returns {string} The formatted Pokémon name.\r\n */\r\nexport const formatPokemonName: ((pokemon: pokemon, options?: formatPokemonOptions) => string) = ({\r\n  language,\r\n  name,\r\n  number,\r\n  psaName,\r\n  translation,\r\n}, options = {}) => {\r\n  const {\r\n    hideNumber = false,\r\n  } = options;\r\n\r\n  if (psaName) {\r\n    console.log(psaName);\r\n  }\r\n\r\n  const parts = [];\r\n\r\n  if (!hideNumber && number) {\r\n    parts.push(number);\r\n    parts.push('-');\r\n  }\r\n\r\n  parts.push(name);\r\n\r\n  if (language) {\r\n    parts.push(`[${translation ? `${translation}: ` : ''}${language}]`);\r\n  }\r\n\r\n  return parts.join(' ');\r\n}\r\n\r\n/**\r\n * Convert short-form year values (e.g. 99, 01-03) to fully-qualified years.\r\n * @param {string} year The short-form year.\r\n * @returns {string} A fully-qualified formatted year.\r\n */\r\nexport const formatYear: ((year: string) => string) = (year) => {\r\n  const getFullYear = (twoDigitYear: string) => {\r\n    if (twoDigitYear.length === 4) {\r\n      return twoDigitYear;\r\n    }\r\n\r\n    if (twoDigitYear.length !== 2) {\r\n      throw new Error(`Unexpected year format provided to formatYear -> getFullYear: ${twoDigitYear}.`);\r\n    }\r\n\r\n    if (Number(twoDigitYear) > 94 && Number(twoDigitYear) <= 99) {\r\n      return `19${twoDigitYear}`;\r\n    }\r\n\r\n    return `20${twoDigitYear}`;\r\n  }\r\n\r\n  if (!year) {\r\n    return '';\r\n  }\r\n\r\n  if (year.length === 2) {\r\n    return getFullYear(year);\r\n  }\r\n\r\n  if (year.length === 5 || year.length === 7) {\r\n    const [yearStart, yearEnd] = year.split('-');\r\n    return `${getFullYear(yearStart)}-${getFullYear(yearEnd)}`;\r\n  }\r\n\r\n  throw new Error(`Unexpected year format provided to formatYear: ${year}.`);\r\n}\r\n\r\n/**\r\n * Generate dynamic search placeholder text based on an array of cards.\r\n * This takes an array like `[{ number: 4, name: 'Pikachu', variants: ['Reverse'] }, ...]` and\r\n * generates a string like `e.g. 4 or Pikachu or Reverse ...`\r\n * @param {card[]} cards An array of cards to generate the placeholder from.\r\n */\r\nexport const getDynamicCardSearchPlaceholder = (cards: card[]): string => {\r\n  const getRandomArrayEntry = (arr: any[]): any => {\r\n    return arr[Math.floor(Math.random() * arr.length)];\r\n  }\r\n\r\n  if (!cards.length) {\r\n    return 'No results found?';\r\n  }\r\n\r\n  const parts: any[] = [];\r\n\r\n  const populatePartsArray = () => {\r\n    // Cards with numbers.\r\n    const numbered = cards.filter(card => card.number !== undefined);\r\n    if (numbered.length) {\r\n      parts.push(getRandomArrayEntry(numbered).number);\r\n    }\r\n  \r\n    // Card names.\r\n    parts.push(getRandomArrayEntry(cards).name);\r\n  \r\n    // Card variants.\r\n    const variants = cards.filter(card => Array.isArray(card.variants) && card.variants.length).reduce((arr: any[], { variants }) => {\r\n      const unique = variants!.filter(variant => arr.indexOf(variant) === -1);\r\n      return [\r\n        ...arr,\r\n        ...unique,\r\n      ];\r\n    }, []);\r\n    if (variants.length) {\r\n      parts.push(getRandomArrayEntry(variants));\r\n    }\r\n  }\r\n\r\n  populatePartsArray();\r\n\r\n  if (cards.length > 1 && parts.length === 1) {\r\n    /** \r\n     * If there was only one placeholder suggestion but multiple cards exist, grab another card to\r\n     * include as well. This prevents ending up with a result like \"e.g. Pikachu ...\" and instead\r\n     * gives a result like \"e.g. Pikachu or Dugtrio ...\".\r\n     */\r\n    populatePartsArray();\r\n    \r\n    if (parts[0] === parts[1]) {\r\n      // This ensures we don't end up with a placeholder like \"e.g. Hitmonchan or Hitmonchan ...\".\r\n      delete parts[1];\r\n    }\r\n  }\r\n\r\n  return `e.g. ${parts.join(' or ')} ...`;\r\n}\r\n\r\n/**\r\n * Convert a shortened identifier into its longer number version.\r\n * @param {string} identifier The identifer returned from the API.\r\n * @returns {number} The raw identifier used by PSA.\r\n */\r\nexport const getRawIdentifier: (identifier: string) => number = (identifier) => parseInt(identifier.split('-')[0], 36);\r\n\r\n/**\r\n * This converts the name of a piece of content into a URL-friendly name.\r\n * This needs to match how the API formats friendly names to keep the data consistent.\r\n * @param {string} name The name to make friendly.\r\n */\r\nexport const urlFriendlyName = (name: string): string => {\r\n  return name.replace(/[!?:/]/g, '');\r\n}","import {\r\n  expansion,\r\n} from '../types';\r\nimport {\r\n  formatExpansionName,\r\n  formatYear,\r\n} from '../utils/strings';\r\n\r\n/**\r\n * Sort expansions by year, name and variant.\r\n * @param {expansion[]} expansions The expansions to sort.\r\n * @returns {expansion[]} A sorted set of expansions.\r\n */\r\nexport const sortExpansions: ((expansions: expansion[]) => expansion[]) = (expansions) => {\r\n  const sortByExpansionName = (a: expansion, b: expansion) => {\r\n    const aName = formatExpansionName(a);\r\n    const bName = formatExpansionName(b);\r\n\r\n    if (aName === bName) {\r\n      console.error(`Encountered two expansions with identical formatted names: ${aName}.`);\r\n      return 0;\r\n    }\r\n\r\n    return aName < bName ? -1 : 1;\r\n  }\r\n\r\n  return [...expansions].sort((a: expansion, b: expansion) => {\r\n    const aYear = formatYear(a.year);\r\n    const aYearAsNumber = Number(aYear.substr(0, 4));\r\n    const bYear = formatYear(b.year);\r\n    const bYearAsNumber = Number(bYear.substr(0, 4));\r\n\r\n    if (aYearAsNumber === bYearAsNumber) {\r\n      const aIsMultiYear = aYear.length === 9;\r\n      const bIsMultiYear = bYear.length === 9;\r\n\r\n      if (aIsMultiYear && bIsMultiYear) {\r\n        return sortByExpansionName(a, b);\r\n      }\r\n\r\n      if (aIsMultiYear) {\r\n        return 1;\r\n      }\r\n\r\n      if (bIsMultiYear) {\r\n        return -1;\r\n      }\r\n\r\n      return sortByExpansionName(a, b);\r\n    }\r\n\r\n    return aYearAsNumber < bYearAsNumber ? -1 : 1;\r\n  })\r\n}","import {\r\n  mapKeys,\r\n} from './keys';\r\nimport {\r\n  card,\r\n  expansion,\r\n  expansionCard,\r\n  expansionDetailed,\r\n  pokemon,\r\n  pokemonData,\r\n  ranking,\r\n  version as versionType,\r\n} from '../types';\r\nimport {\r\n  sortExpansions,\r\n} from '../utils/data';\r\n\r\nconst API_URL = 'https://api.pokemetrics.org';\r\n\r\n/**\r\n * Fetch JSON data from the API.\r\n * @param {string} file The name of the file to fetch (with path).\r\n * @param {boolean} [bypassCache=false] Whether to ignore cached data (used by `version`).\r\n * @returns {Promise<any>} API data.\r\n */\r\nconst fetch = async (file: string, bypassCache: boolean = false): Promise<any> => {\r\n  if (!bypassCache) {\r\n    // Check for cached data and return that instead of calling the API (default behaviour).\r\n    const cachedData = sessionStorage.getItem(file);\r\n\r\n    if (cachedData) {\r\n      return JSON.parse(cachedData);\r\n    }\r\n  }\r\n\r\n  const data = await window.fetch(`${API_URL}/${file}.json`).then(data => data.json());\r\n  sessionStorage.setItem(file, JSON.stringify(data));\r\n  return data;\r\n}\r\n\r\n/**\r\n * Get the current data version.\r\n * This API grabs the cached version (if it exists) and then fetches a fresh copy of version.json\r\n * from the API. If the two are not in sync it means the locally-cached data is out of date and\r\n * needs updating - it does this by clearing session storage.\r\n * @returns {Promise<versionType>} Version API data.\r\n */\r\nexport const version = async (): Promise<versionType> => {\r\n  const cachedVersion = sessionStorage.getItem('version');\r\n  const version = await fetch('version', true) as versionType;\r\n\r\n  if (!cachedVersion) {\r\n    // There is no cached data, clear session storage anyway just to be safe.\r\n    sessionStorage.clear();\r\n    return version;\r\n  }\r\n\r\n  const {\r\n    v: cachedVersionNumber,\r\n  } = JSON.parse(cachedVersion) as versionType;\r\n\r\n  const {\r\n    v: newVersionNumber,\r\n  } = version;\r\n\r\n  if (cachedVersionNumber === newVersionNumber) {\r\n    // The latest version matches the cached version, do nothing.\r\n    return version;\r\n  }\r\n\r\n  // The cached version is out of date, clear session storage.\r\n  console.log(`New version ${newVersionNumber} detected. Upgrading from ${cachedVersionNumber}...`);\r\n  sessionStorage.clear();\r\n  return version;\r\n}\r\n\r\n/**\r\n * API key mapping returned from /keys.json.\r\n * This caches the result in session storage to be used throughout the application.\r\n * @returns {Promise<Object>} Keys API data.\r\n */\r\nexport const keys = async (): Promise<Object> => {\r\n  const keys = await fetch('keys');\r\n  return keys;\r\n}\r\n\r\n/**\r\n * Individual expansion data returned from /sets/{expansionId}.json.\r\n * @param {string} expansionId The ID of the expansion to fetch.\r\n * @returns {Promise<expansionDetailed>} Detailed Expansion API data.\r\n */\r\nexport const getExpansion = async (expansionId: string): Promise<expansionDetailed> => {\r\n  const response = await fetch(`sets/${expansionId}`);\r\n  const miscList = await getMiscList();\r\n  const pokemonList = await getPokemonList();\r\n\r\n  const {\r\n    cards,\r\n    ...rest\r\n  } = mapKeys(response);\r\n\r\n  return {\r\n    cards: [...cards].map(card => ({\r\n      ...card,\r\n      pokemon: pokemonList.find(pokemon => card.name.toLowerCase().indexOf(pokemon.name.toLowerCase()) !== -1),\r\n    })).map(card => {\r\n      const output = {\r\n        ...card,\r\n        pokemon:  card.pokemon?.name,\r\n      }\r\n\r\n      if (output.pokemon) {\r\n        output.rank = card.pokemon.rank;\r\n        output.rankTotal = card.pokemon.total;\r\n      } else {\r\n        const miscData = miscList.find(misc => card.name.toLowerCase() === misc.name.toLowerCase());\r\n\r\n        output.rank = miscData?.rank;\r\n        output.rankTotal = miscData?.total;\r\n      }\r\n\r\n      return output\r\n    }).sort((a, b) => {\r\n      const {\r\n        name: aName,\r\n        number: aNumber,\r\n        variants: aVariants = [],\r\n      } = a;\r\n      const {\r\n        name: bName,\r\n        number: bNumber,\r\n        variants: bVariants = [],\r\n      } = b;\r\n\r\n      if (aNumber && bNumber === undefined) {\r\n        return 1;\r\n      }\r\n\r\n      if (aNumber === undefined && bNumber) {\r\n        return -1;\r\n      }\r\n\r\n      if ((aNumber === undefined && bNumber === undefined) || (aNumber === bNumber)) {\r\n        if (aName === bName) {\r\n          return aVariants.toString() > bVariants.toString() ? 1 : -1;\r\n        }\r\n\r\n        return aName > bName ? 1 : -1;\r\n      }\r\n\r\n      // @ts-ignore: Object is possibly undefined\r\n      return aNumber > bNumber ? 1 : -1;\r\n    }),\r\n    ...rest,\r\n  } as expansionDetailed;\r\n}\r\n\r\n/**\r\n * Individual expansion card data returned from /sets/{expansionId}/{cardId}.json.\r\n * @param {string} expansionId The ID of the expansion (set) which the card belongs to.\r\n * @param {string} cardId The ID of the card to fetch data for.\r\n * @returns {Promise<expansionCard>} Expansion->Card API data.\r\n */\r\nexport const getExpansionCard = async (expansionId: string, cardId: string): Promise<expansionCard> => {\r\n  const response = await fetch(`sets/${expansionId}/${cardId}`);\r\n  return mapKeys(response as expansionCard);\r\n}\r\n\r\n/**\r\n * Pokémon expansions (sets) returned from /sets.json.\r\n * @returns {Promise<expansion[]>} Expansions API data.\r\n */\r\nexport const getExpansions = async (): Promise<expansion[]> => {\r\n  const data = await fetch('sets');\r\n  return sortExpansions(\r\n    mapKeys(Object.values(data)).sort()\r\n  ) as expansion[];\r\n}\r\n\r\n/**\r\n * Individual Pokémon data returned from /pokemon/{name}.json mapped as a list of expansions with\r\n * relevant cards matching that Pokémon.\r\n * @param {\"misc\"|\"pokemon\"} base The type of content to fetch.\r\n * @param {string} name The name of the Pokémon content to fetch data for.\r\n * @returns {Promise<pokemonData>} Pokémon API data.\r\n */\r\nexport const getPokemon = async (base: \"misc\" | \"pokemon\", name: string): Promise<pokemonData> => {\r\n  const response = await fetch(`${base}/${name}`);\r\n\r\n  if (!response) {\r\n    throw new Error(`Could not load data for Pokémon: ${name}.`);\r\n  }\r\n\r\n  const mappedResponse = mapKeys(response) as pokemonData;\r\n\r\n  if (!mappedResponse?.data) {\r\n    throw new Error(`Pokémon data is in unexpected format?`);\r\n  }\r\n\r\n  const expansions = await getExpansions();\r\n\r\n  const mappedCardData = mappedResponse.data.map((cardData: card) => ({\r\n    ...cardData,\r\n    expansion: expansions.find(({ id }) => id === cardData.set)\r\n  })) as card[];\r\n\r\n  return {\r\n    ...mappedResponse,\r\n    data: mappedCardData,\r\n  };\r\n}\r\n\r\nconst withRankInfo = (entry: pokemon, ranks: pokemon[]) => {\r\n  const rankData = ranks.find(rankEntry => rankEntry.name === entry.name);\r\n\r\n  return {\r\n    rank: rankData?.rank,\r\n    total: rankData?.total,\r\n  };\r\n}\r\n\r\n/**\r\n * Pokémon returned from /pokemon.json.\r\n * @returns {Promise<pokemon[]>} Pokémon API data.\r\n */\r\nexport const getPokemonList = async (): Promise<pokemon[]> => {\r\n  const data = await fetch('pokemon');\r\n  const ranks = await getPokemonRanks();\r\n\r\n  return (mapKeys(data) as pokemon[]).sort(({ number: a }, { number: b }) => Number(a) > Number(b) ? 1 : -1).map(entry => ({\r\n    ...entry,\r\n    ...withRankInfo(entry, ranks)\r\n  }));\r\n}\r\n\r\n/**\r\n * Pokémon returned from /misc.json.\r\n * @returns {Promise<pokemon[]>} Pokémon API data.\r\n */\r\nexport const getMiscList = async (): Promise<pokemon[]> => {\r\n  const data = await fetch('misc');\r\n  const ranks = await getMiscRanks();\r\n\r\n  return (mapKeys(data) as pokemon[]).sort(({ name: a }, { name: b }) => a.toLowerCase() > b.toLowerCase() ? 1 : -1).map(entry => ({\r\n    ...entry,\r\n    ...withRankInfo(entry, ranks)\r\n  }));\r\n}\r\n\r\nexport const getHistory = async (): Promise<expansion[]> => {\r\n  const data = await fetch('history');\r\n  return mapKeys(data.reverse());\r\n}\r\n\r\n/**\r\n * Ranking data returned from /ranks.json.\r\n * @returns {Promise<ranking>} Ranks API data.\r\n */\r\nexport const getRanks = async (): Promise<ranking> => {\r\n  const data = await fetch('ranks');\r\n  return mapKeys(data);\r\n}\r\n\r\n/**\r\n * Ranking data returned from /misc-ranks.json.\r\n * @returns {Promise<pokemon[]>} Misc ranks API data.\r\n */\r\nexport const getMiscRanks = async (): Promise<pokemon[]> => {\r\n  const data = await fetch('misc-ranks');\r\n  return mapKeys(data);\r\n}\r\n\r\n/**\r\n * Ranking data returned from /pokemon-ranks.json.\r\n * @returns {Promise<pokemon[]>} Pokémon ranks API data.\r\n */\r\nexport const getPokemonRanks = async (): Promise<pokemon[]> => {\r\n  const data = await fetch('pokemon-ranks');\r\n  return mapKeys(data);\r\n}","import {\r\n  card,\r\n  expansion,\r\n  pokemon,\r\n} from '../types';\r\n\r\n/**\r\n * Create a URL-friendly card name from a card object.\r\n * @param {card} expansion The expansion object.\r\n * @returns {string} A URL-friendly expansion name.\r\n */\r\nexport const urlFriendlyCardName = (card?: card): string => {\r\n  if (!card?.id) {\r\n    return '';\r\n  }\r\n\r\n  return card.id;\r\n}\r\n\r\n/**\r\n * Create a URL-friendly expansion name from an expansion object.\r\n * @param {expansion} expansion The expansion object.\r\n * @returns {string} A URL-friendly expansion name.\r\n */\r\nexport const urlFriendlyExpansionName = (expansion?: expansion): string => {\r\n  if (!expansion?.id) {\r\n    return '';\r\n  }\r\n\r\n  return expansion.id;\r\n}\r\n\r\n/**\r\n * Create a URL-friendly Pokémon name from a Pokémon object.\r\n * @param {pokemon} pokemon The Pokémon object.\r\n * @returns {string} A URL-friendly Pokémon name.\r\n */\r\nexport const urlFriendlyPokemonName = (pokemon?: pokemon): string => {\r\n  if (!pokemon?.name) {\r\n    return '';\r\n  }\r\n\r\n  return pokemon.name.replace(/[!?:/]/g, '');\r\n}","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst withSingleContentLoad = (WrappedComponent: React.FC<any>, apiFn: (props: any) => (() => any)) => {\r\n  return ({ ...props }) => {\r\n    const [content, setContent] = React.useState<any>();\r\n    const [isLoading, setLoading] = React.useState<boolean>(true);\r\n\r\n    React.useEffect(() => {\r\n      (async () => {\r\n        setContent(await apiFn(props)());\r\n        setLoading(false);\r\n      })();\r\n    }, []);\r\n\r\n    if (isLoading) {\r\n      return <CircularProgress />;\r\n    }\r\n\r\n    return <WrappedComponent content={content} {...props} />;\r\n  }\r\n}\r\n\r\nexport default withSingleContentLoad;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { withTheme } from '@material-ui/core/styles';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography, { TypographyProps } from '@material-ui/core/Typography';\r\nimport {\r\n  formatExpansionName,\r\n} from '../utils/strings';\r\nimport {\r\n  card,\r\n} from '../types';\r\n\r\nconst Asterisk = withTheme(styled.span`\r\n  color: ${props => props.theme.palette.secondary.main}\r\n`);\r\n\r\ntype CardNameProps = {\r\n  card: card\r\n  defaultName?: string\r\n  showExpansion?: boolean\r\n  showNumberAsPrefix?: boolean\r\n} & TypographyProps;\r\n\r\nconst CardName: React.FC<CardNameProps> = ({\r\n  card,\r\n  defaultName = '',\r\n  showExpansion = false,\r\n  showNumberAsPrefix = false,\r\n  ...typographyProps\r\n}) => {\r\n  const {\r\n    expansion,\r\n    name,\r\n    number,\r\n    psaName,\r\n    variants,\r\n  } = card;\r\n\r\n  return (\r\n    <Box mb={2}>\r\n      <Typography {...typographyProps} gutterBottom={!showExpansion && !!psaName}>\r\n        {number && showNumberAsPrefix ? `#${number} : ` : undefined}\r\n        {name || defaultName}\r\n        {psaName ? <Asterisk>*</Asterisk> : undefined}\r\n        {number && !showNumberAsPrefix ? ` ${number}` : undefined}\r\n        {Array.isArray(variants) ? ` {${variants.join(', ')}}` : undefined}\r\n      </Typography>\r\n      {showExpansion && expansion ? (\r\n        <Typography variant=\"subtitle1\" gutterBottom={!!psaName}>\r\n          {formatExpansionName(expansion)}\r\n        </Typography>\r\n      ) : undefined}\r\n      {psaName ? (\r\n        <Typography variant=\"body2\">\r\n          <Asterisk>*</Asterisk>\r\n          {' '}\r\n          PSA label this card as &ldquo;{psaName}&rdquo;. This has been renamed here either as a correction or to match similar cards.\r\n        </Typography>\r\n      ) : undefined}\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default CardName;","/**\r\n * This extends Material UI's Autocomplete component available at\r\n * https://material-ui.com/components/autocomplete.\r\n */\r\n\r\nimport React from 'react';\r\nimport Box from '@material-ui/core/Box';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport MUIAutocomplete from '@material-ui/lab/Autocomplete';\r\nimport match from 'autosuggest-highlight/match';\r\nimport parse from 'autosuggest-highlight/parse';\r\nimport Loading from './Loading';\r\n\r\ntype AutoCompleteProps = {\r\n  defaultSelectedOption?: any\r\n  disabled?: boolean\r\n  id: string\r\n  helperText?:  string\r\n  label: string\r\n  optionFormatter: (option: any) => string\r\n  optionGroupFormatter?: (option: any) => string\r\n  options: any[]\r\n  onChange: (selectedOption: any) => void\r\n  placeholder?: string\r\n}\r\n\r\nconst AutoComplete: React.FC<AutoCompleteProps> = ({\r\n  defaultSelectedOption,\r\n  disabled = false,\r\n  id,\r\n  helperText,\r\n  label,\r\n  options,\r\n  optionFormatter,\r\n  optionGroupFormatter,\r\n  onChange,\r\n  placeholder,\r\n}) => {\r\n  let defaultInputValue;\r\n\r\n  if (defaultSelectedOption) {\r\n    defaultInputValue = optionFormatter(defaultSelectedOption);\r\n  }\r\n\r\n  const [isLoading, setLoading] = React.useState<boolean>(false);\r\n  const [inputValue, setInputValue] = React.useState<string>(defaultInputValue || '');\r\n  const [value, setValue] = React.useState<string>(defaultSelectedOption);\r\n\r\n  React.useEffect(() => {\r\n    if (defaultSelectedOption === value) {\r\n      return;\r\n    }\r\n\r\n    if (!isLoading) {\r\n      setLoading(true);\r\n      return;\r\n    }\r\n\r\n    setInputValue(optionFormatter(defaultSelectedOption));\r\n    setValue(defaultSelectedOption);\r\n    setLoading(false);\r\n  }, [defaultSelectedOption, isLoading]);\r\n\r\n  if (isLoading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <Box my={4}>\r\n      <MUIAutocomplete\r\n        autoHighlight\r\n        disabled={disabled}\r\n        getOptionLabel={optionFormatter}\r\n        groupBy={optionGroupFormatter}\r\n        id={id}\r\n        includeInputInList\r\n        inputValue={inputValue}\r\n        options={options}\r\n        onChange={(event, selectedOption) => {\r\n          setValue(selectedOption);\r\n          onChange(selectedOption);\r\n        }}\r\n        onInputChange={(event, value) => setInputValue(value)}\r\n        renderInput={(params: any) => (\r\n          <TextField\r\n            {...params}\r\n            helperText={helperText}\r\n            label={label}\r\n            variant=\"outlined\"\r\n            InputProps={{\r\n              ...params.InputProps,\r\n              placeholder,\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        )}\r\n        renderOption={(option, { inputValue }) => {\r\n          const name = optionFormatter(option);\r\n          const matches = match(name, inputValue);\r\n          const parts = parse(name, matches);\r\n\r\n          return (\r\n            <div>\r\n              {parts.map(({ highlight, text }: any, index: number) => (\r\n                <Typography\r\n                  key={index}\r\n                  variant=\"caption\"\r\n                  color={highlight ? \"secondary\" : \"textPrimary\"}\r\n                >\r\n                  {text}\r\n                </Typography>\r\n              ))}\r\n            </div>\r\n          );\r\n        }}\r\n        value={value}\r\n      />\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default AutoComplete;","import React from 'react';\r\nimport {\r\n  Link as ReactRouterLink,\r\n} from 'react-router-dom';\r\nimport Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport MUIModal from '@material-ui/core/Modal';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport ContactSupportIcon from '@material-ui/icons/ContactSupport';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    background: theme.palette.background.paper,\r\n    border: 'none',\r\n    boxShadow: theme.shadows[5],\r\n    boxSizing: 'border-box',\r\n    padding: theme.spacing(2, 4, 3),\r\n    position: 'absolute',\r\n    right: `calc(50% - ${theme.breakpoints.values.md / 2}px)`,\r\n    top: 50,\r\n    width: theme.breakpoints.values.md,\r\n  },\r\n}));\r\n\r\ntype ModalProps = {\r\n  children: any\r\n  isHelp?: boolean\r\n  mobileLink?: string\r\n  opener: React.ReactNode | string\r\n}\r\n\r\nconst Modal: React.FC<ModalProps> = ({\r\n  children,\r\n  isHelp = false,\r\n  mobileLink,\r\n  opener,\r\n}) => {\r\n  const theme = useTheme();\r\n  const matches = useMediaQuery(theme.breakpoints.down('md'));\r\n  const classes = useStyles();\r\n  const [isOpen, setOpen] = React.useState<boolean>(false);\r\n\r\n  if (mobileLink && matches) {\r\n    return (\r\n      <Link\r\n        component={ReactRouterLink}\r\n        to={mobileLink!}\r\n      >\r\n        <Typography variant=\"button\" color=\"primary\">\r\n          {isHelp ? (\r\n            <>\r\n              <ContactSupportIcon />\r\n              {' '}\r\n              {opener}\r\n            </>\r\n          ) : opener}\r\n        </Typography>\r\n      </Link>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        type=\"button\"\r\n        color=\"primary\"\r\n        onClick={() => setOpen(true)}\r\n      >\r\n        {isHelp ? (\r\n          <>\r\n            <ContactSupportIcon />\r\n            {' '}\r\n            {opener}\r\n          </>\r\n        ) : opener}\r\n      </Button>\r\n      <MUIModal\r\n        open={isOpen}\r\n        onClose={() => setOpen(false)}\r\n      >\r\n        <Box className={classes.modal}>\r\n          {children}\r\n        </Box>\r\n      </MUIModal>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\ntype VariantProps = {\r\n  children: React.ReactNode,\r\n}\r\n\r\nconst Variant: React.FC<VariantProps> = ({ children }) => (\r\n  <Typography\r\n    color=\"secondary\"\r\n    display=\"inline\"\r\n    variant=\"body1\"\r\n    variantMapping={{ body1: 'span', }}\r\n  >\r\n    {children}\r\n  </Typography>\r\n)\r\n\r\nexport default Variant;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Box from '@material-ui/core/Box';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GradeTable, {\r\n  historicBackground,\r\n  totalBackground,\r\n} from '../components/GradeTable';\r\nimport Variant from '../components/Variant';\r\n\r\nconst headingVariantMapping = {\r\n  h4: 'h1',\r\n  h5: 'h2',\r\n  h6: 'h3',\r\n};\r\n\r\nconst fakeGradeTotal = {\r\n  total: {\r\n    grade: 60,\r\n    half: 10,\r\n    qualifier: 30,\r\n  },\r\n  '10': {\r\n    grade: 40,\r\n  },\r\n  '9': {\r\n    grade: 20,\r\n    qualifier: 3,\r\n  },\r\n  '8': {\r\n    half: 17\r\n  }\r\n};\r\n\r\nconst fakeGradeHistory = new Array(52).fill({\r\n  date: 0,\r\n  grades: {\r\n    total: {},\r\n  },\r\n});\r\n\r\n// 1 week\r\nfakeGradeHistory[0] = {\r\n  date: Number(new Date()),\r\n  grades: {\r\n    total: {\r\n      grade: -6,\r\n    },\r\n    '10': {\r\n      grade: -1,\r\n    },\r\n    '9': {\r\n      grade: -5,\r\n    }\r\n  }\r\n}\r\n\r\n// 5 weeks\r\nfakeGradeHistory[4] = {\r\n  date: Number(new Date()),\r\n  grades: {\r\n    total: {\r\n      grade: -17,\r\n    },\r\n    '10': {\r\n      grade: -2,\r\n    },\r\n    '9': {\r\n      grade: -5,\r\n    },\r\n    '8': {\r\n      half: -10,\r\n    }\r\n  }\r\n}\r\n\r\n// 52 weeks\r\nfakeGradeHistory[51] = {\r\n  date: Number(new Date()),\r\n  grades: {\r\n    total: {\r\n      grade: -23,\r\n    },\r\n    '10': {\r\n      grade: -3,\r\n    },\r\n    '9': {\r\n      grade: -10,\r\n    },\r\n    '8': {\r\n      half: -15,\r\n    }\r\n  }\r\n}\r\n\r\nconst Greenie = styled.span({\r\n  background: `rgba(${totalBackground}, 0.34)`,\r\n  display: 'inline-block',\r\n  padding: '0 4px',\r\n});\r\n\r\nconst Yellowie = styled(Greenie)({\r\n  background: `rgba(${historicBackground}, 0.34)`,\r\n});\r\n\r\nconst GradeTableHelp = () => {\r\n  return (\r\n    <>\r\n      <Typography variant=\"h5\" gutterBottom variantMapping={headingVariantMapping}>\r\n        How does the Grade Population Table work?\r\n      </Typography>\r\n      <Typography variant=\"body1\" paragraph>\r\n        A grade population table within this app will look something like the example below:\r\n      </Typography>\r\n      <GradeTable\r\n        hideHelpButton\r\n        history={fakeGradeHistory}\r\n        total={fakeGradeTotal}\r\n      />\r\n      <Typography variant=\"body1\" paragraph>\r\n        The Total Graded column reveals that the total example population is <Variant>100</Variant> and is made up of <Variant>40</Variant> PSA 10 grades, <Variant>3</Variant> PSA 9 qualifier grades, <Variant>20</Variant> PSA 9 grades, and <Variant>17</Variant> PSA 8.5 grades.\r\n      </Typography>\r\n      <Typography variant=\"body1\" paragraph>\r\n        The\r\n        {' '}\r\n        <Greenie>green background</Greenie>\r\n        {' '}\r\n        between the grade name and the population represents the overall percentage that grade makes up in relation to the total population, allowing for quickly seeing which grades have the largest (or smallest) shares - the PSA 10 grade, with a population of <Variant>40</Variant>, makes up <Variant>40%</Variant> of the total population meaning this green background makes up 40% of the total area.\r\n      </Typography>\r\n      <Typography variant=\"body1\" paragraph>\r\n        In the past week, <Variant>6</Variant> new entries were graded, made up of <Variant>1</Variant> new PSA 10 (accounting for <Variant>2.5%</Variant> of the total PSA 10 population) and <Variant>5</Variant> new PSA 9s (accounting for <Variant>25%</Variant> of the total PSA 9 population). No new PSA 9 qualifier or PSA 8.5 grades were added at all.\r\n      </Typography>\r\n      <Hidden smUp>\r\n        <Typography variant=\"caption\" paragraph>\r\n          Note: If you're viewing this on a mobile device you may not be able to see the grade history - try rotating your device to view it in landscape mode.\r\n        </Typography>\r\n      </Hidden>\r\n      <Typography variant=\"body1\" paragraph>\r\n        The\r\n        {' '}\r\n        <Yellowie>yellow background</Yellowie>\r\n        {' '}\r\n        on each historic grade change represents the overall percentage that grade makes up in relation to all of the other grades achieved in that time period. In the past week the background of the PSA 9 grade is more prominent than that of the PSA 10 grade because it accounted for more of the overall number graded in that period (<Variant>5</Variant>/<Variant>6</Variant> compared with <Variant>1</Variant>/<Variant>6</Variant>).\r\n      </Typography>\r\n      <Typography variant=\"body1\" paragraph>\r\n        In the past 5 weeks, <Variant>2</Variant> PSA 10 grades and <Variant>5</Variant> PSA 9 grades have been added along with <Variant>10</Variant> PSA 8.5 grades. These numbers include the numbers from the &lsquo;1 week&rsquo; column, allowing us to say that 1 of the <Variant>2</Variant> PSA 10 grades which appeared in the past 5 weeks was from the past week and the other happened at some point between 5 weeks ago and the end of the week before last. Here the yellow background on the PSA 9 grade is less prominent as the PSA 8.5 grade accounts for a larger share of the total graded in this period. \r\n      </Typography>\r\n      <Typography>\r\n        None of the <Variant>3</Variant> PSA 9 qualifier grades were graded in the past 52 weeks, so nothing is displayed in the historic section.\r\n      </Typography>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default GradeTableHelp;","/**\r\n * This extends Material UI's Autocomplete component available at\r\n * https://material-ui.com/components/autocomplete.\r\n */\r\n\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport MUITooltip from '@material-ui/core/Tooltip';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst Abbr = styled.abbr({\r\n  borderBottom: '1px dotted #ccc',\r\n  cursor: 'help',\r\n  display: 'inline-block',\r\n  textDecoration: 'none',\r\n});\r\n\r\ntype AutoCompleteProps = {\r\n  children: React.ReactNode\r\n  placement?: \"top\" | \"bottom-end\" | \"bottom-start\" | \"bottom\" | \"left-end\" | \"left-start\" | \"left\" | \"right-end\" | \"right-start\" | \"right\" | \"top-end\" | \"top-start\" | undefined\r\n  text: any,\r\n  variant?: \"button\" | \"caption\" | \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"h6\" | \"inherit\" | \"overline\" | \"body2\" | \"subtitle1\" | \"subtitle2\" | \"body1\" | \"srOnly\" | undefined\r\n}\r\n\r\nconst Tooltip: React.FC<AutoCompleteProps> = ({\r\n  children,\r\n  placement = 'top',\r\n  text,\r\n  variant = 'inherit',\r\n}) => {\r\n  return (\r\n    <MUITooltip\r\n      placement={placement}\r\n      title={typeof text === 'string' ? (\r\n        <Typography variant=\"body2\">\r\n          {text}\r\n        </Typography>\r\n      ) : text}\r\n    >\r\n      <Typography\r\n        color=\"textPrimary\"\r\n        display=\"inline\"\r\n        variant={variant}\r\n      >\r\n        <Abbr>\r\n          {children}\r\n        </Abbr>\r\n      </Typography>\r\n    </MUITooltip>\r\n  );\r\n}\r\n\r\nexport default Tooltip;","import {\r\n  flattenedGrade,\r\n  gradeChangeOverTime,\r\n  gradeHistory,\r\n  grades,\r\n} from '../types';\r\n\r\n/**\r\n * This flattens the grades object to allow easy rendering onto a table.\r\n * @param {grades} grades The grades object to flatten.\r\n * @returns {flattenedGrade[]} An array of flattened grades.\r\n */\r\nexport const flattenGrades: ((grades: grades) => flattenedGrade[]) = ({\r\n  1: psa1,\r\n  '1.5': psa1Half,\r\n  2: psa2,\r\n  3: psa3,\r\n  4: psa4,\r\n  5: psa5,\r\n  6: psa6,\r\n  7: psa7,\r\n  8: psa8,\r\n  9: psa9,\r\n  10: psa10,\r\n  auth,\r\n  total,\r\n}) => {\r\n  const overallTotal = (total.grade || 0) + (total.half || 0) + (total.qualifier || 0);\r\n\r\n  return (\r\n    [\r\n      {\r\n        name: 'Total',\r\n        value: overallTotal,\r\n      },\r\n      ...[\r\n        {\r\n          description: 'Gem Mint',\r\n          name: 'PSA 10',\r\n          value: psa10?.grade,\r\n        }, {\r\n          hasQualifier: true,\r\n          name: 'PSA 9',\r\n          value: psa9?.qualifier,\r\n        }, {\r\n          description: 'Mint',\r\n          name: 'PSA 9',\r\n          value: psa9?.grade,\r\n        }, {\r\n          name: 'PSA 8.5',\r\n          value: psa8?.half,\r\n        }, {\r\n          hasQualifier: true,\r\n          name: 'PSA 8',\r\n          value: psa8?.qualifier,\r\n        }, {\r\n          description: 'Near Mint - Mint',\r\n          name: 'PSA 8',\r\n          value: psa8?.grade,\r\n        }, {\r\n          name: 'PSA 7.5',\r\n          value: psa7?.half,\r\n        }, {\r\n          hasQualifier: true,\r\n          name: 'PSA 7',\r\n          value: psa7?.qualifier,\r\n        }, {\r\n          description: 'Near Mint',\r\n          name: 'PSA 7',\r\n          value: psa7?.grade,\r\n        }, {\r\n          name: 'PSA 6.5',\r\n          value: psa6?.half,\r\n        }, {\r\n          hasQualifier: true,\r\n          name: 'PSA 6',\r\n          value: psa6?.qualifier,\r\n        }, {\r\n          description: 'Excellent - Mint',\r\n          name: 'PSA 6',\r\n          value: psa6?.grade,\r\n        }, {\r\n          name: 'PSA 5.5',\r\n          value: psa5?.half,\r\n        }, {\r\n          hasQualifier: true,\r\n          name: 'PSA 5',\r\n          value: psa5?.qualifier,\r\n        }, {\r\n          description: 'Excellent',\r\n          name: 'PSA 5',\r\n          value: psa5?.grade,\r\n        }, {\r\n          name: 'PSA 4.5',\r\n          value: psa4?.half,\r\n        }, {\r\n          hasQualifier: true,\r\n          name: 'PSA 4',\r\n          value: psa4?.qualifier,\r\n        }, {\r\n          description: 'Very Good - Excellent',\r\n          name: 'PSA 4',\r\n          value: psa4?.grade,\r\n        }, {\r\n          name: 'PSA 3.5',\r\n          value: psa3?.half,\r\n        }, {\r\n          hasQualifier: true,\r\n          name: 'PSA 3',\r\n          value: psa3?.qualifier,\r\n        }, {\r\n          description: 'Very Good',\r\n          name: 'PSA 3',\r\n          value: psa3?.grade,\r\n        }, {\r\n          name: 'PSA 2.5',\r\n          value: psa2?.half,\r\n        }, {\r\n          hasQualifier: true,\r\n          name: 'PSA 2',\r\n          value: psa2?.qualifier,\r\n        }, {\r\n          description: 'Good',\r\n          name: 'PSA 2',\r\n          value: psa2?.grade,\r\n        }, {\r\n          hasQualifier: true,\r\n          name: 'PSA 1.5',\r\n          value: psa1Half?.qualifier,\r\n        }, {\r\n          description: 'Fair',\r\n          name: 'PSA 1.5',\r\n          value: psa1Half?.half,\r\n        }, {\r\n          hasQualifier: true,\r\n          name: 'PSA 1',\r\n          value: psa1?.qualifier,\r\n        }, {\r\n          description: 'Poor',\r\n          name: 'PSA 1',\r\n          value: psa1?.grade,\r\n        }, {\r\n          name: 'Authentic',\r\n          value: auth?.grade,\r\n        }\r\n      ]\r\n        .filter(({ value }) => value)\r\n        .map(entry => ({\r\n          ...entry,\r\n          percentageOfTotal: Math.floor(((100/overallTotal) * (entry.value || 0)) * 100) / 100,\r\n        }))\r\n    ]\r\n  ) as flattenedGrade[];\r\n}\r\n\r\n/**\r\n * This takes a full grade history array and determines the weekly, monthly and yearly change.\r\n * Note that the history array is only updated if data changes, meaning weeks may be missing. This\r\n * accounts for that.\r\n * @param {gradeHistory[]} history The grade history array to parse.\r\n * @returns {gradeChangeOverTime} The grade change over time.\r\n */\r\nexport const getGradeChangeOverTime: ((history: gradeHistory[]) => gradeChangeOverTime) = (history) => {\r\n  if (!Array.isArray(history) || !history.length) {\r\n    return {} as gradeChangeOverTime;\r\n  }\r\n\r\n  let weekly;\r\n  let monthly;\r\n  let yearly;\r\n\r\n  const WEEK_MILLISECONDS = 604800000;\r\n  const now = Number(new Date());\r\n\r\n  if (now - Number(history[0].date) <= (WEEK_MILLISECONDS * 2)) {\r\n    // If the history array has been updated in the past week, we can assume the entries to represent the weeks leading up to this point.\r\n    weekly = history[0].grades;\r\n    monthly = history[4]?.grades;\r\n    yearly = history[51]?.grades;\r\n  } else {\r\n    // Otherwise we need to calculate how many weeks have passed since the last history change occurred.\r\n    const latest = Number(history[0].date);\r\n    const weeksSinceLastUpdate = Math.floor((now - latest) / WEEK_MILLISECONDS);\r\n\r\n    weekly = {};\r\n    monthly = weeksSinceLastUpdate <= 5 ? history[5 - weeksSinceLastUpdate]?.grades : {};\r\n    yearly = history[51 - weeksSinceLastUpdate]?.grades;\r\n  }\r\n\r\n  const defaultValue = history[history.length - 1].grades;\r\n\r\n  if (!monthly) {\r\n    return {\r\n      weekly,\r\n      monthly: defaultValue,\r\n      yearly: defaultValue,\r\n    } as gradeChangeOverTime;\r\n  }\r\n  \r\n  if (!yearly) {\r\n    return {\r\n      weekly,\r\n      monthly,\r\n      yearly: defaultValue,\r\n    } as gradeChangeOverTime;\r\n  }\r\n\r\n  return {\r\n    weekly,\r\n    monthly,\r\n    yearly,\r\n  } as gradeChangeOverTime;\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tooltip from '../Tooltip';\r\nimport {\r\n  flattenedGrade,\r\n  gradeChangeOverTime,\r\n} from '../../types';\r\nimport {\r\n  flattenGrades,\r\n} from '../../utils/grades';\r\n\r\nexport const historicBackground = `255, 246, 143`;\r\nexport const totalBackground = `205, 238, 140`;\r\n\r\ntype GradeCountProps = {\r\n  compare?: flattenedGrade,\r\n  data?: flattenedGrade,\r\n  historyDeductsFromTotal?: boolean,\r\n  isHistoric?: boolean,\r\n  total?: flattenedGrade,\r\n}\r\n\r\nconst GradeCount: React.FC<GradeCountProps> = ({\r\n  compare,\r\n  data,\r\n  historyDeductsFromTotal = true,\r\n  isHistoric = false,\r\n  total,\r\n}) => {\r\n  const noData = (\r\n    <TableCell\r\n      style={{\r\n        background: '#fdfdfd',\r\n        border: 'none',\r\n      }}\r\n    />\r\n  );\r\n\r\n  if (!data) {\r\n    return noData;\r\n  }\r\n\r\n  const getValueStyle = () => {\r\n    if (!total) {\r\n      return undefined;\r\n    }\r\n\r\n    if (data.name === 'Total') {\r\n      return {\r\n        background: isHistoric ? `rgba(${historicBackground}, 0.34)` : `rgba(${totalBackground}, 0.34)`,\r\n        borderLeft: isHistoric ? '1px solid #e0e0e0' : undefined,\r\n        borderBottom: '1px solid #ccc',\r\n        fontWeight: 700,\r\n      }\r\n    }\r\n\r\n    const totalValue = isHistoric && historyDeductsFromTotal ? -total.value : total.value;\r\n    const dataValue = isHistoric && historyDeductsFromTotal ? -data.value : data.value;\r\n\r\n    const percentage = (Math.floor(((100 / totalValue) * dataValue) * 100) / 10000) / 3;\r\n\r\n    return {\r\n      background: isHistoric ? `rgba(${historicBackground}, ${percentage})` : `rgba(${totalBackground}, ${percentage})`,\r\n      borderLeft: isHistoric ? '1px solid #e0e0e0' : undefined,\r\n      borderTop: isHistoric ? '1px solid #e0e0e0' : undefined,\r\n    };\r\n  }\r\n\r\n  const {\r\n    percentageOfTotal,\r\n    value,\r\n  } = data;\r\n\r\n  let content;\r\n\r\n  const totalRowStyle = data.name === 'Total' ? { fontWeight: 700 } : undefined;\r\n\r\n  if (isHistoric && compare) {\r\n    const {\r\n      value: current,\r\n    } = compare;\r\n\r\n    const offset = historyDeductsFromTotal ? current + value : current - value;\r\n    const percentage = historyDeductsFromTotal ? 100 - ((100 / current) * offset) : (100 / current) * offset;\r\n\r\n    if (!historyDeductsFromTotal && compare.value - value === 0) {\r\n      return noData;\r\n    }\r\n\r\n    content = (\r\n      <>\r\n        {(historyDeductsFromTotal ? -value : compare.value - value).toLocaleString()}\r\n        {' '}\r\n        <Typography variant=\"caption\" color=\"textSecondary\" style={totalRowStyle}>\r\n          ({offset.toLocaleString()})\r\n        </Typography>\r\n        <Typography variant=\"caption\" color=\"textSecondary\" display=\"block\" style={totalRowStyle}>\r\n          ({Math.floor(percentage * 100) / 100}%)\r\n        </Typography>\r\n      </>\r\n    );\r\n  } else {\r\n    content = (\r\n      <>\r\n        {value.toLocaleString()}\r\n        <Typography variant=\"caption\" color=\"textSecondary\" display=\"block\">\r\n          ({percentageOfTotal !== undefined ? percentageOfTotal : '100'}%)\r\n        </Typography>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <TableCell\r\n      align=\"right\"\r\n      style={{\r\n        ...(total ? getValueStyle() : undefined),\r\n        ...(!isHistoric ? {\r\n          background: percentageOfTotal !== undefined ? `linear-gradient(to right, rgba(${totalBackground}, ${percentageOfTotal / 100 / 3}) 0%, rgba(${totalBackground}, 0.34) calc(${percentageOfTotal}% - 2px), rgba(${totalBackground}, 0.66) calc(${percentageOfTotal}% - 2px), transparent ${percentageOfTotal}%, transparent 100%)` : `rgba(${totalBackground}, 0.34)`,\r\n          borderRight: '3px double #ccc'\r\n        } : undefined),\r\n      }}\r\n    >\r\n      {content}\r\n    </TableCell>\r\n  );\r\n}\r\n\r\ntype TableDataProps = {\r\n  data: flattenedGrade[],\r\n  history: gradeChangeOverTime,\r\n  historyDeductsFromTotal: boolean,\r\n};\r\n\r\nconst TableData: React.FC<TableDataProps> = ({\r\n  data,\r\n  history,\r\n  historyDeductsFromTotal,\r\n}) => {\r\n  const {\r\n    weekly,\r\n    monthly,\r\n    yearly,\r\n  } = history;\r\n\r\n  const flattenedWeeklyGrades = weekly?.total ? flattenGrades(weekly) : [];\r\n  const flattenedMonthlyGrades = monthly?.total ? flattenGrades(monthly) : [];\r\n  const flattenedYearlyGrades = yearly?.total ? flattenGrades(yearly) : [];\r\n\r\n  const getTotal = (dataset: flattenedGrade[]) => dataset.find(entry => entry.name === 'Total')\r\n\r\n  const total = getTotal(data);\r\n  const totalWeekly = getTotal(flattenedWeeklyGrades);\r\n  const totalMonthly = getTotal(flattenedMonthlyGrades);\r\n  const totalYearly = getTotal(flattenedYearlyGrades);\r\n\r\n  return (\r\n    <>\r\n      {data.map(entry => {\r\n        const {\r\n          description,\r\n          hasQualifier = false,\r\n          name,\r\n          percentageOfTotal = 0,\r\n        } = entry;\r\n\r\n        const historyMatch = ({\r\n          hasQualifier: historyHasQualifier = false,\r\n          name: historyName,\r\n        }: {\r\n          hasQualifier?: boolean,\r\n          name: string,\r\n        }) => name === historyName && historyHasQualifier === hasQualifier;\r\n\r\n        const weeklyData = flattenedWeeklyGrades.find(historyMatch);\r\n        const monthlyData = flattenedMonthlyGrades.find(historyMatch);\r\n        const yearlyData = flattenedYearlyGrades.find(historyMatch);\r\n\r\n        const percentageBackground = name === 'Total' ? undefined : `rgba(${totalBackground}, ${percentageOfTotal / 100 / 3})`;\r\n\r\n        return (\r\n          <TableRow\r\n            key={`${name}${hasQualifier ? 'Q' : ''}`}\r\n            style={name === 'Total' ? {\r\n              background: '#fafafa',\r\n            } : {\r\n              background: '#fff',\r\n            }}\r\n          >\r\n            <TableCell\r\n              style={name === 'Total' ? {\r\n                background: `rgba(${totalBackground}, 0.34)`,\r\n              } : percentageOfTotal !== undefined ? {\r\n                background: `linear-gradient(to left, ${percentageBackground} 0%, rgba(${totalBackground}, 0.34) calc(${percentageOfTotal}% - 2px), rgba(${totalBackground}, 0.66) calc(${percentageOfTotal}% - 2px), transparent ${percentageOfTotal}%, transparent 100%)`\r\n              } : {\r\n                background: `rgba(${totalBackground}, 0.34)`,\r\n                borderBottom: '1px solid #ccc',\r\n                fontWeight: 'bold',\r\n              }}\r\n            >\r\n              {name}\r\n              {hasQualifier ? (\r\n                <>\r\n                  {' '}\r\n                  <Tooltip\r\n                    placement=\"right\"\r\n                    text={(\r\n                      <>\r\n                        <Typography variant=\"body2\" paragraph>\r\n                          Has a qualifier.\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" paragraph>\r\n                          Qualifiers reduce the grade by 1 full point and may be one of the following: MC (miscut), MK (marked), OC (off-center), OF (out of focus), PD (print defect), or ST (stained).\r\n                        </Typography>\r\n                        <Typography variant=\"body2\">\r\n                          PSA's population report does not differentiate between these.\r\n                        </Typography>\r\n                      </>\r\n                    )}\r\n                    variant=\"caption\"\r\n                  >\r\n                    with qualifier\r\n                  </Tooltip>\r\n                </>\r\n              ) : undefined}\r\n              {description ? (\r\n                <>\r\n                  {' '}\r\n                  <Typography variant=\"caption\" color=\"textSecondary\" display=\"block\">\r\n                    {description}\r\n                  </Typography>\r\n                </>\r\n              ) : undefined}\r\n            </TableCell>\r\n            <GradeCount data={entry} total={total} />\r\n            <Hidden xsDown>\r\n              <GradeCount data={weeklyData} historyDeductsFromTotal={historyDeductsFromTotal} isHistoric compare={entry} total={totalWeekly} />\r\n              <GradeCount data={monthlyData} historyDeductsFromTotal={historyDeductsFromTotal} isHistoric compare={entry} total={totalMonthly} />\r\n              <GradeCount data={yearlyData} historyDeductsFromTotal={historyDeductsFromTotal} isHistoric compare={entry} total={totalYearly} />\r\n            </Hidden>\r\n          </TableRow>\r\n        );\r\n      })}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TableData;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { withTheme } from '@material-ui/core/styles';\r\nimport Box from '@material-ui/core/Box';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Modal from './Modal';\r\nimport GradeTableHelp from '../help/GradeTable';\r\nimport TableData, {\r\n  historicBackground,\r\n  totalBackground,\r\n} from './GradeTable/TableData';\r\nimport {\r\n  flattenGrades,\r\n  getGradeChangeOverTime,\r\n} from '../utils/grades';\r\nimport {\r\n  gradeHistory,\r\n  grades,\r\n} from '../types';\r\n\r\nexport {\r\n  historicBackground,\r\n  totalBackground,\r\n}\r\n\r\nconst Wrapper = withTheme(styled.article(({ theme }) => ({\r\n  'thead': {\r\n    background: '#f5f5f5',\r\n\r\n    'th': {\r\n      borderBottomColor: '#ccc',\r\n    }\r\n  },\r\n\r\n  'tbody': {\r\n    'td': {\r\n      '&:first-child, &:nth-child(2)': {\r\n        maxWidth: 171,\r\n        minWidth: 171,\r\n        width: 171,\r\n\r\n        [theme.breakpoints.down('sm')]: {\r\n          maxWidth: 122,\r\n          minWidth: 122,\r\n          width: 122,\r\n        },\r\n      },\r\n\r\n      '&:nth-child(2)': {\r\n        borderRight: '1px solid #e0e0e0',\r\n      }\r\n    }\r\n  }\r\n})));\r\n\r\ntype GradeTableProps = {\r\n  hideHelpButton?: boolean\r\n  history: gradeHistory[]\r\n  historyDeductsFromTotal?: boolean\r\n  total: grades,\r\n}\r\n\r\nconst GradeTable: React.FC<GradeTableProps> = ({\r\n  hideHelpButton = false,\r\n  history,\r\n  historyDeductsFromTotal = true,\r\n  total,\r\n}) => {\r\n  const mainHeadingStyle = { background: '#789839', color: '#fff' };\r\n  const historicHeadingStyle = { background: '#f2f2f2' };\r\n\r\n  return (\r\n    <Box my={2}>\r\n      <Hidden smUp>\r\n      <Typography\r\n        paragraph\r\n        variant=\"body2\"\r\n      >\r\n        Grade history is only visible on larger screens. If you're on a mobile device which supports different orientations, viewing this page landscape instead of portrait may be all you need.\r\n      </Typography>\r\n      </Hidden>\r\n      <Wrapper>\r\n        <TableContainer component={Paper}>\r\n          <Table aria-label=\"Grades table.\" size=\"small\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell rowSpan={2} style={mainHeadingStyle}>Grade</TableCell>\r\n                <TableCell rowSpan={2} style={{ ...mainHeadingStyle, textAlign: 'right' }}>Total Graded</TableCell>\r\n                <Hidden xsDown>\r\n                  <TableCell colSpan={3} style={{ borderLeft: '3px double #ccc', ...historicHeadingStyle }}>Cards graded in the past...</TableCell>\r\n                </Hidden>\r\n              </TableRow>\r\n              <Hidden xsDown>\r\n                <TableRow>\r\n                  <TableCell style={historicHeadingStyle}>1 week</TableCell>\r\n                  <TableCell style={historicHeadingStyle}>5 weeks</TableCell>\r\n                  <TableCell style={historicHeadingStyle}>52 weeks</TableCell>\r\n                </TableRow>\r\n              </Hidden>\r\n            </TableHead>\r\n            <TableBody>\r\n              <TableData\r\n                data={flattenGrades(total)}\r\n                history={getGradeChangeOverTime(history)}\r\n                historyDeductsFromTotal={historyDeductsFromTotal}\r\n              />\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        {hideHelpButton ? undefined : (\r\n          <Box mt={1} textAlign=\"right\">\r\n            <Modal isHelp opener=\"How do I use this table?\" mobileLink=\"/help#grade-table\">\r\n              <GradeTableHelp />\r\n            </Modal>\r\n          </Box>\r\n        )}\r\n      </Wrapper>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default GradeTable;","import React from 'react';\r\nimport {\r\n  expansionCard,\r\n} from '../types';\r\nimport {\r\n  getExpansionCard,\r\n} from '../utils/api';\r\nimport GradeTable from './GradeTable';\r\nimport withSingleContentLoad from '../hocs/withSingleContentLoad';\r\n\r\ntype ExpansionCardProps = {\r\n  cardId: string,\r\n  content: expansionCard,\r\n  expansionId: string,\r\n}\r\n\r\nconst ExpansionCard: React.FC<ExpansionCardProps> = ({\r\n  content,\r\n}) => {\r\n  const {\r\n    history,\r\n    total,\r\n  } = content;\r\n\r\n  return <GradeTable history={history} total={total} />;\r\n}\r\n\r\nexport default withSingleContentLoad(\r\n  ExpansionCard,\r\n  ({\r\n    cardId,\r\n    expansionId,\r\n  }: ExpansionCardProps) => getExpansionCard.bind(this, expansionId, cardId)\r\n);","export default __webpack_public_path__ + \"static/media/psa-logo.520d526c.png\";","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Link from '@material-ui/core/Link';\r\nimport { withTheme } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt';\r\nimport {\r\n  getRawIdentifier,\r\n} from '../utils/strings';\r\nimport PSALogo from '../assets/psa-logo.png';\r\n\r\nconst Muted = withTheme(styled.span`\r\n  color: ${props => { console.log(props); return props.theme.palette.text.secondary }}\r\n`);\r\n\r\ntype PSASetLinkProps = {\r\n  id: string\r\n}\r\n\r\nconst PSASetLink: React.FC<PSASetLinkProps> = ({\r\n  id,\r\n}) => {\r\n  return (\r\n    <Typography\r\n      paragraph\r\n      variant=\"body1\"\r\n      align=\"right\"\r\n    >\r\n      <Link\r\n        href={`https://www.psacard.com/pop/tcg-cards/!/!/${getRawIdentifier(id)}`}\r\n        target=\"blank\"\r\n        rel=\"noopener\"\r\n      >\r\n        <ArrowRightAltIcon />\r\n        {' '}\r\n        <img src={PSALogo} height=\"14px\" style={{verticalAlign: '-6%'}} alt=\"PSA Logo\" /> \r\n        {' '}\r\n        View the set on PSA's pop report\r\n      </Link>\r\n      {' '}\r\n      <Muted>(opens in new tab)</Muted>\r\n    </Typography>\r\n  )\r\n}\r\n\r\nexport default PSASetLink;","import React from 'react';\r\nimport {\r\n  Link as ReactRouterLink,\r\n  useHistory,\r\n} from 'react-router-dom';\r\nimport {\r\n  card,\r\n  expansion,\r\n  expansionDetailed,\r\n  pokemon,\r\n} from '../types';\r\nimport {\r\n  getExpansion,\r\n} from '../utils/api';\r\nimport {\r\n  formatCardName,\r\n  formatExpansionName,\r\n  getDynamicCardSearchPlaceholder,\r\n} from '../utils/strings';\r\nimport {\r\n  urlFriendlyCardName,\r\n  urlFriendlyPokemonName,\r\n} from '../utils/urls';\r\nimport withSingleContentLoad from '../hocs/withSingleContentLoad';\r\nimport Box from '@material-ui/core/Box';\r\nimport CardName from '../components/CardName';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt';\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport NaturePeopleIcon from '@material-ui/icons/NaturePeople';\r\nimport AutoComplete from '../components/AutoComplete';\r\nimport ExpansionCard from '../components/ExpansionCard';\r\nimport GradeTable from '../components/GradeTable';\r\nimport Loading from '../components/Loading';\r\nimport PSASetLink from '../components/PSASetLink';\r\n\r\nconst headingVariantMapping = {\r\n  h4: 'h1',\r\n  h5: 'h2',\r\n  h6: 'h3',\r\n}\r\n\r\ntype ExpansionsProps = {\r\n  content: expansionDetailed,\r\n  expansion: expansion,\r\n}\r\n\r\nconst Expansions: React.FC<ExpansionsProps> = ({\r\n  content,\r\n  expansion,\r\n}) => {\r\n  const history = useHistory();\r\n  const [selectedCard, setSelectedCard] = React.useState<card>();\r\n  const [isLoading, setLoading] = React.useState<boolean>(false);\r\n  const [isPageLoading, setPageLoading] = React.useState<boolean>(true);\r\n\r\n  const {\r\n    cards: totalCards,\r\n    id: expansionId,\r\n  } = expansion;\r\n\r\n  const {\r\n    cards,\r\n    history: gradeHistory,\r\n    total,\r\n  } = content;\r\n\r\n  React.useEffect(() => {\r\n    if (!Array.isArray(cards)) {\r\n      return;\r\n    }\r\n\r\n    if (cards.length === 1) {\r\n      setSelectedCard(cards[0]);\r\n    }\r\n  }, [cards]);\r\n\r\n  React.useEffect(() => {\r\n    const {\r\n      pathname,\r\n    } = history.location;\r\n\r\n    const [pathExpansion, pathCard] = pathname.substr(6, 64).split('/');\r\n\r\n    if (!pathCard) {\r\n      setPageLoading(false);\r\n      return;\r\n    }\r\n\r\n    const urlSelectedCard = cards.find(({ id }) => id === pathCard.substr(0, 16));\r\n\r\n    if (!urlSelectedCard) {\r\n      history.replace({\r\n        pathname: `/sets/${pathExpansion}`,\r\n      });\r\n\r\n      setPageLoading(false);\r\n      return;\r\n    }\r\n\r\n    setSelectedCard(urlSelectedCard);\r\n    setPageLoading(false);\r\n    //eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (isPageLoading) {\r\n      return;\r\n    }\r\n\r\n    setLoading(false);\r\n\r\n    const {\r\n      pathname,\r\n    } = history.location;\r\n    \r\n    const [pathExpansion, pathCard] = pathname.substr(6, 64).split('/');\r\n    const newPathCard = urlFriendlyCardName(selectedCard);\r\n\r\n    if (pathCard === newPathCard) {\r\n      return;\r\n    }\r\n\r\n    if (!newPathCard) {\r\n      history.replace({\r\n        pathname: `/sets/${pathExpansion}`,\r\n      });\r\n      return;\r\n    }\r\n\r\n    history.replace({\r\n      pathname: `/sets/${pathExpansion}/${newPathCard}`,\r\n    });\r\n    //eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectedCard]);\r\n\r\n  const handleSelect = (card: card) => {\r\n    setLoading(true);\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  if (isPageLoading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <Box my={2}>\r\n      <Typography\r\n        paragraph\r\n        variant=\"h4\"\r\n        variantMapping={headingVariantMapping}\r\n      >\r\n        {formatExpansionName(expansion)}\r\n      </Typography>\r\n      <Typography\r\n        paragraph\r\n        variant=\"body1\"\r\n      >\r\n        There {totalCards === 1 ? 'is only 1 card in this set' : `are ${totalCards} different cards in this set`}...\r\n      </Typography>\r\n      <AutoComplete\r\n        defaultSelectedOption={selectedCard}\r\n        disabled={cards.length === 1}\r\n        id={`expansion-${expansionId}`}\r\n        label={`Select a card...`}\r\n        options={cards}\r\n        optionFormatter={(card) => formatCardName(card, { numberPrefix: true })}\r\n        onChange={handleSelect}\r\n        placeholder={getDynamicCardSearchPlaceholder(cards)}\r\n      />\r\n      {!isLoading ? (\r\n        <Box mt={2}>\r\n          {selectedCard ? (\r\n            <>\r\n              <CardName\r\n                card={selectedCard}\r\n                showNumberAsPrefix={true}\r\n                variant=\"h5\"\r\n                variantMapping={headingVariantMapping}\r\n              />\r\n              <ExpansionCard\r\n                cardId={selectedCard.id}\r\n                expansionId={expansionId} \r\n              />\r\n              {totalCards === 1 ? (\r\n                <PSASetLink id={expansionId} />\r\n              ) : undefined}\r\n              {selectedCard.pokemon ? (\r\n                <Typography\r\n                  paragraph\r\n                  variant=\"body1\"\r\n                  align=\"right\"\r\n                >\r\n                  <Link component={ReactRouterLink} to={`/pokemon/${urlFriendlyPokemonName(selectedCard as pokemon)}`}>\r\n                    <ArrowRightAltIcon />\r\n                    {' '}\r\n                    Find other\r\n                    {' '}\r\n                    <FaceIcon />\r\n                    {' '}\r\n                    {selectedCard.pokemon}\r\n                    {' '}\r\n                    cards...\r\n                  </Link>\r\n                </Typography>\r\n              ) : (\r\n                <Typography\r\n                  paragraph\r\n                  variant=\"body1\"\r\n                  align=\"right\"\r\n                >\r\n                  <Link component={ReactRouterLink} to={`/misc/${urlFriendlyPokemonName(selectedCard as pokemon)}`}>\r\n                    <ArrowRightAltIcon />\r\n                    {' '}\r\n                    Find other\r\n                    {' '}\r\n                    <NaturePeopleIcon />\r\n                    {' '}\r\n                    {selectedCard.name}\r\n                    {' '}\r\n                    cards...\r\n                  </Link>\r\n                </Typography>\r\n              )}\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Typography\r\n                paragraph\r\n                variant=\"h5\"\r\n                variantMapping={headingVariantMapping}\r\n              >\r\n                All Grades\r\n              </Typography>\r\n              <GradeTable history={gradeHistory} total={total} />\r\n              <PSASetLink id={expansionId} />\r\n            </>\r\n          )}\r\n        </Box>\r\n      ) : undefined}\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default withSingleContentLoad(\r\n  Expansions,\r\n  ({ expansion }: ExpansionsProps) => getExpansion.bind(null, expansion.id)\r\n);","import Box from '@material-ui/core/Box';\r\nimport React from 'react';\r\nimport {\r\n  useHistory,\r\n} from 'react-router-dom';\r\nimport AutoComplete from '../components/AutoComplete';\r\nimport Loading from '../components/Loading';\r\nimport withSingleContentLoad from '../hocs/withSingleContentLoad';\r\n\r\ntype SearchPageProps = {\r\n  apiFn: () => Promise<any>\r\n  basePath: string\r\n  content: any[]\r\n  id: string\r\n  helperText?: string\r\n  label: string\r\n  optionFormatter: (entry: any) => string\r\n  optionGroupFormatter?: (entry: any) => string\r\n  placeholder: string\r\n  renderResult: (entry: any) => React.ReactNode\r\n  urlFriendlyName: (entry: any) => string\r\n}\r\n\r\nconst SearchPage: React.FC<SearchPageProps> = ({\r\n  basePath,\r\n  content = [],\r\n  helperText,\r\n  id,\r\n  label,\r\n  optionFormatter,\r\n  optionGroupFormatter,\r\n  placeholder,\r\n  renderResult,\r\n  urlFriendlyName,\r\n}) => {\r\n  const history = useHistory();\r\n  const {\r\n    pathname,\r\n  } = history.location;\r\n  const [selected, setSelected] = React.useState<any>();\r\n  const [isLoading, setLoading] = React.useState<boolean>(false);\r\n  const [isPageLoading, setPageLoading] = React.useState<boolean>(true);\r\n\r\n  React.useEffect(() => {\r\n    if (pathname === basePath) {\r\n      setPageLoading(false);\r\n      return;\r\n    }\r\n\r\n    const [pathSelected] = pathname.substr(1 + basePath.length, 64).split('/');\r\n\r\n    if (selected && urlFriendlyName(selected) === pathSelected) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    const urlSelected = content.find(pokemon => urlFriendlyName(pokemon) === pathSelected);\r\n\r\n    if (!urlSelected) {\r\n      history.replace({\r\n        pathname: basePath,\r\n      });\r\n\r\n      setSelected(undefined);\r\n      setPageLoading(false);\r\n      return;\r\n    }\r\n\r\n    handleSelect(urlSelected);\r\n    setPageLoading(false);\r\n    //eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [pathname]);\r\n\r\n  React.useEffect(() => {\r\n    if (isPageLoading) {\r\n      return;\r\n    }\r\n\r\n    setLoading(false);\r\n\r\n    const [pathSelected] = pathname.substr(1 + basePath.length, 64).split('/');\r\n    const newPathSelected = urlFriendlyName(selected);\r\n \r\n    if (pathSelected === newPathSelected) {\r\n      return;\r\n    }\r\n\r\n    if (!newPathSelected) {\r\n      history.replace({\r\n        pathname: basePath,\r\n      });\r\n      return;\r\n    }\r\n\r\n    history.replace({\r\n      pathname: `${basePath}/${newPathSelected}`,\r\n    });\r\n    //eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selected]);\r\n\r\n  const handleSelect = (content: any) => {\r\n    setLoading(true);\r\n    setSelected(content);\r\n  }\r\n\r\n  if (isPageLoading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <AutoComplete\r\n        defaultSelectedOption={selected}\r\n        helperText={helperText}\r\n        id={id}\r\n        label={label}\r\n        options={content}\r\n        optionFormatter={optionFormatter}\r\n        optionGroupFormatter={optionGroupFormatter}\r\n        onChange={handleSelect}\r\n        placeholder={placeholder}\r\n      />\r\n      {!isLoading && selected ? (\r\n        <Box mt={2}>\r\n          {renderResult(selected)}\r\n        </Box>\r\n      ) : undefined}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withSingleContentLoad(\r\n  SearchPage,\r\n  ({\r\n    apiFn\r\n  }: SearchPageProps) => apiFn,\r\n);","import React from 'react';\r\nimport {\r\n  Link as ReactRouterLink,\r\n  withRouter,\r\n} from 'react-router-dom';\r\nimport {\r\n  expansion,\r\n} from '../types';\r\nimport {\r\n  getExpansions,\r\n} from '../utils/api';\r\nimport Expansions from '../trees/Expansions';\r\nimport {\r\n  formatExpansionName,\r\n  formatYear,\r\n} from '../utils/strings';\r\nimport {\r\n  urlFriendlyExpansionName,\r\n} from '../utils/urls';\r\nimport SearchPage from '../components/SearchPage';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport StyleIcon from '@material-ui/icons/Style';\r\n\r\nconst ExpansionList = () => {\r\n  return (\r\n    <>\r\n      <Typography\r\n        gutterBottom\r\n        variant=\"h4\"\r\n        variantMapping={{ h4: 'h1' }}\r\n      >\r\n        <StyleIcon fontSize=\"large\" />\r\n        {' '}\r\n        Sets\r\n      </Typography>\r\n      <Typography\r\n        paragraph\r\n        variant=\"body1\"\r\n      >\r\n        This page allows you to search for Pokémon expansions.\r\n      </Typography>\r\n      <Typography\r\n        paragraph\r\n        variant=\"body2\"\r\n      >\r\n        A fair amount of work has been put in to make PSA's data more usable. As an example, PSA refer to Pokémon's Base Set as &lsquo;Pokemon Game&rsquo; and bundle all 1st Edition, shadowless and unlimited cards (to name a few) into one big set; this app renames the set and separates it into different subsets:\r\n        {' '}\r\n        <Link component={ReactRouterLink} to=\"/sets/18ll-1\">\r\n          Base Set (1st Edition)\r\n        </Link>,\r\n        {' '}\r\n        <Link component={ReactRouterLink} to=\"/sets/18ll-3\">\r\n          Base Set (Shadowless)\r\n        </Link>\r\n        {' '}\r\n        and\r\n        {' '}\r\n        <Link component={ReactRouterLink} to=\"/sets/18ll\">\r\n          Base Set\r\n        </Link>.\r\n      </Typography>\r\n      <SearchPage\r\n        apiFn={getExpansions}\r\n        basePath=\"/sets\"\r\n        id=\"expansion-select\"\r\n        label=\"Search for an expansion... (e.g. Base Set)\"\r\n        optionFormatter={(expansion: expansion) => formatExpansionName(expansion)}\r\n        optionGroupFormatter={({ year }: expansion) => formatYear(year)}\r\n        renderResult={(selectedExpansion: expansion) => (\r\n          <Expansions expansion={selectedExpansion} />\r\n        )}\r\n        placeholder=\"Fossil or 2009 or Shadowless or Dutch or Foil Pack or Sticker ...\"\r\n        urlFriendlyName={urlFriendlyExpansionName}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default withRouter(ExpansionList);","import React from 'react';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Variant from '../components/Variant';\r\n\r\nconst headingVariantMapping = {\r\n  h4: 'h1',\r\n  h5: 'h2',\r\n  h6: 'h3',\r\n};\r\n\r\nconst DataNormalization = () => {\r\n  return (\r\n    <>\r\n      <Typography variant=\"h5\" gutterBottom variantMapping={headingVariantMapping} id=\"normalization\">\r\n        What is Data Normalization?\r\n      </Typography>\r\n      <Typography variant=\"body1\" paragraph>\r\n        One of the major quality of life improvements this app deals with is PSA label inconsistencies. There are several different approaches this app takes to dealing with this:\r\n      </Typography>\r\n      <Box my={2}>\r\n        <Typography variant=\"h6\" gutterBottom variantMapping={headingVariantMapping}>\r\n          Set Variants\r\n        </Typography>\r\n        <Typography variant=\"body1\" paragraph>\r\n          PSA sometimes defines sets as having a particular variant, like 1st Edition, but often they bundle multiple variants together to form one mammoth multi-variant set that nobody will ever care to collect every single card from.\r\n        </Typography>\r\n        <Typography variant=\"body1\" paragraph>\r\n          To deal with that, this app explicitly forces all cards into sets with the following variants:\r\n        </Typography>\r\n        <Typography variant=\"body1\" paragraph>\r\n          <Variant>Unlimited</Variant>,{' '}\r\n          <Variant>1st Edition</Variant>,{' '}\r\n          <Variant>Shadowless</Variant>,{' '}\r\n          <Variant>Trainer Deck A</Variant>,{' '}\r\n          <Variant>Trainer Deck B</Variant>,{' '}\r\n          <Variant>&copy; 1999-2000</Variant>,{' '}\r\n          <Variant>No Rarity Symbol</Variant>,{' '}\r\n          <Variant>Blue Back</Variant>,{' '}\r\n          <Variant>Green Back</Variant>,{' '}\r\n          <Variant>Blue Back (Unnumbered)</Variant>,{' '}\r\n          <Variant>No Symbol</Variant>,{' '}\r\n          <Variant>Gold Foil</Variant>,{' '}\r\n          <Variant>Silver Foil</Variant>,{' '}\r\n          <Variant>Blue Foil</Variant>,{' '}\r\n          <Variant>Rainbow Foil</Variant>,{' '}\r\n          <Variant>Sparkle</Variant>,{' '}\r\n          <Variant>Spectra</Variant>,{' '}\r\n          <Variant>Tekno</Variant>,{' '}\r\n          <Variant>Die-Cut</Variant>,{' '}\r\n          <Variant>Black Collection</Variant>,{' '}\r\n          <Variant>White Collection</Variant>,{' '}\r\n          <Variant>Series I</Variant>,{' '}\r\n          <Variant>Series II</Variant>{' '}\r\n          and{' '}\r\n          <Variant>Series III</Variant>.\r\n        </Typography>\r\n        <Typography variant=\"body1\" paragraph>\r\n          The variants above are unique to each set and will only contain cards which include that variant. A 1st Edition card will never appear in an Unlimited set, for example.\r\n        </Typography>\r\n        <Typography variant=\"body1\" paragraph>\r\n          Set variants will appear after a set's name in regular brackets (e.g.\r\n          {' '}&ldquo;\r\n          <Variant>Jungle (1st Edition)</Variant>\r\n          &rdquo;). To avoid a lot of repetition, when the variant is Unlimited nothing will be displayed (e.g.\r\n          {' '}&ldquo;\r\n          <Variant>Jungle</Variant>\r\n          &rdquo;).\r\n        </Typography>\r\n      </Box>\r\n      <Box my={2}>\r\n        <Typography variant=\"h6\" gutterBottom variantMapping={headingVariantMapping}>\r\n          Languages\r\n        </Typography>\r\n        <Typography variant=\"body1\" paragraph>\r\n          Along with the common set variants mentioned above, PSA also have a habit of either featuring sets which are tied to one specific language or creating mammoth multi-lingual sets which again nobody is ever going to be interested in collecting all of.\r\n        </Typography>\r\n        <Typography variant=\"body1\" paragraph>\r\n          To deal with that, this app defines a language for each set based on the languages of cards PSA have graded:\r\n        </Typography>\r\n        <Typography variant=\"body1\" paragraph>\r\n          <Variant>Chinese</Variant>,{' '}\r\n          <Variant>Dutch</Variant>,{' '}\r\n          <Variant>English</Variant>,{' '}\r\n          <Variant>French</Variant>,{' '}\r\n          <Variant>German</Variant>,{' '}\r\n          <Variant>Italian</Variant>,{' '}\r\n          <Variant>Japanese</Variant>,{' '}\r\n          <Variant>Korean</Variant>,{' '}\r\n          <Variant>Polish</Variant>,{' '}\r\n          <Variant>Portuguese</Variant>,{' '}\r\n          and {' '}\r\n          <Variant>Spanish</Variant>.\r\n        </Typography>\r\n        <Typography variant=\"body1\" paragraph>\r\n          In this app an Italian card will never appear in the same set as a Korean card, for example - they'll all be contained within their own single-language set.\r\n        </Typography>\r\n        <Typography variant=\"body1\" paragraph>\r\n          Languages will appear after a set's name in square brackets (e.g.\r\n          {' '}&ldquo;\r\n          <Variant>Team Rocket [Japanese]</Variant>\r\n          &rdquo;). To avoid a lot of repetition, when the language is English nothing will be displayed (e.g.\r\n          {' '}&ldquo;\r\n          <Variant>Team Rocket</Variant>\r\n          &rdquo;).\r\n        </Typography>\r\n        <Typography variant=\"body1\" paragraph>\r\n          Sometimes a translation is available. When a translation is present it will appear as a prefix to the language inside the square brackets, separated by a colon (e.g.\r\n          {' '}&ldquo;\r\n          <Variant>Magicarpe [Magikarp: French]</Variant>\r\n          &rdquo;).\r\n        </Typography>\r\n      </Box>\r\n      <Box my={2}>\r\n        <Typography variant=\"h6\" gutterBottom variantMapping={headingVariantMapping}>\r\n          Card Variants\r\n        </Typography>\r\n        <Typography variant=\"body1\" paragraph>\r\n          Pokémon cards will also show the set variant in the same way, however unlike with sets the cards have thousands of other possible variants.\r\n        </Typography>\r\n        <Typography variant=\"body1\" paragraph>\r\n          This is very messy, and again is something which PSA is inconsistent with. A good example with this is for Reverse Holofoil cards, which PSA will label as &ldquo;Reverse holofoil&rdquo;, or &ldquo;Reverse&rdquo;, or &ldquo;Rev&rdquo;, or &ldquo;RV&rdquo;, or &ldquo;Mirror&rdquo;, etc... (there are actually more than 10 different labels PSA apply to these particular cards!)\r\n        </Typography>\r\n        <Typography variant=\"body1\" paragraph>\r\n          Further normalisation is implemented to tackle this problem, with the intention of all cards of a similar variant showing the same variant label throughout the application. Card variants will be displayed in a similar way to set variants, but will be wrapped in curly brackets instead (e.g.\r\n          {' '}&ldquo;\r\n          <Typography variant=\"body1\" color=\"secondary\" variantMapping={{ body1: 'span', }}>Pikachu 025 {'{'}Reverse holofoil{'}'}</Typography>\r\n          &rdquo;).\r\n        </Typography>\r\n      </Box>\r\n      <Box my={2}>\r\n        <Typography variant=\"h6\" gutterBottom variantMapping={headingVariantMapping}>\r\n          Typos, Corrections and Conformity\r\n        </Typography>\r\n        <Typography variant=\"body1\" paragraph>\r\n          This app tries its best to correct any typos present in PSA's data, along with making sure commonly-repeated names all conform with one another. A card which has had its name changed in this way will include an asterisk (<Typography variant=\"body1\" color=\"secondary\" variantMapping={{ body1: 'span', }}>*</Typography>) beside its name wherever it appears and will detail what the change was on the card's page.\r\n        </Typography>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default DataNormalization;","import React from 'react';\r\nimport {\r\n  useHistory,\r\n} from 'react-router-dom';\r\nimport Box from '@material-ui/core/Box';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ContactSupportIcon from '@material-ui/icons/ContactSupport';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport DataNormalization from '../help/DataNormalization';\r\nimport GradeTableHelp from '../help/GradeTable';\r\n\r\nconst headingVariantMapping = {\r\n  h4: 'h1',\r\n  h5: 'h2',\r\n  h6: 'h3',\r\n};\r\n\r\nconst Help = () => {\r\n  const history = useHistory();\r\n  const {\r\n    hash,\r\n  } = history.location;\r\n\r\n  const [expanded, setExpanded] = React.useState<boolean | string>(hash ? hash.substr(1, hash.length) : false);\r\n\r\n  const handleChange = (panel: string) => (_: any, isExpanded: boolean) => {\r\n    history.replace({\r\n      hash: isExpanded ? panel : undefined \r\n    });\r\n    setExpanded(isExpanded ? panel : false);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Typography\r\n        gutterBottom\r\n        variant=\"h4\"\r\n        variantMapping={{ h4: 'h1' }}\r\n      >\r\n        <ContactSupportIcon fontSize=\"large\" />\r\n        {' '}\r\n        Help\r\n      </Typography>\r\n      <Typography variant=\"body1\" paragraph>\r\n        Each Pokémon card and Pokémon set features a grade population table which shows the population for each grade that entry has received. This is no different to PSA's own population report, it just adds a layer of separation and displays the data vertically instead of horizontally.\r\n      </Typography>\r\n      <Accordion\r\n        expanded={expanded === 'grade-table'}\r\n        onChange={handleChange('grade-table')}\r\n      >\r\n        <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n          <Typography>\r\n            How does the Grade Population Table work?\r\n          </Typography>\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          <Box>\r\n            <GradeTableHelp />\r\n          </Box>\r\n        </AccordionDetails>\r\n      </Accordion>\r\n      <Accordion\r\n        expanded={expanded === 'data-normalization'}\r\n        onChange={handleChange('data-normalization')}\r\n      >\r\n        <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n          <Typography>\r\n            What is Data Normalization?\r\n          </Typography>\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          <Box>\r\n            <DataNormalization />\r\n          </Box>\r\n        </AccordionDetails>\r\n      </Accordion>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Help;","import React from 'react';\r\nimport {\r\n  Link as ReactRouterLink,\r\n} from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Box from '@material-ui/core/Box';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ContactSupportIcon from '@material-ui/icons/ContactSupport';\r\nimport LocalFloristIcon from '@material-ui/icons/LocalFlorist';\r\nimport {\r\n  historicBackground,\r\n  totalBackground,\r\n} from '../components/GradeTable';\r\nimport DiscordLogo from '../assets/discord-logo.png';\r\nimport PSALogo from '../assets/psa-logo.png';\r\n\r\nconst headingVariantMapping = {\r\n  h4: 'h1',\r\n  h5: 'h2',\r\n  h6: 'h3',\r\n};\r\n\r\nconst Home = () => {\r\n  return (\r\n    <>\r\n      <Typography\r\n        gutterBottom\r\n        variant=\"h4\"\r\n        variantMapping={{ h4: 'h1' }}\r\n      >\r\n        <LocalFloristIcon fontSize=\"large\" />\r\n        {' '}\r\n        Welcome!\r\n      </Typography>\r\n      <Typography variant=\"body1\" paragraph>\r\n        Professional Sports Authenticator (\r\n        <Link href=\"https://psacard.com\" rel=\"noopener\" target=\"blank\">\r\n          <img src={PSALogo} height=\"16px\" style={{verticalAlign: '-6%'}} alt=\"PSA Logo\" />\r\n          {' '}\r\n          https://psacard.com\r\n        </Link>\r\n        )\r\n        {' '}\r\n        is the largest and most trusted third-party trading card authentication and grading company in the world - or at least that's what it says on their website.\r\n        {' '}\r\n        They've been grading Pokémon cards for over 20 years and have graded well over 1 million of them.\r\n      </Typography>\r\n      <Typography variant=\"body1\" paragraph>\r\n        This web app - which isn't associated with PSA in any way - aims to add quality of life improvements to the <Link href=\"https://www.psacard.com/pop\" rel=\"noopener\">PSA Population Report</Link>, focussing specifically on Pokémon cards.\r\n      </Typography>\r\n      <Typography variant=\"body1\" paragraph>\r\n        Use the tabs above to navigate between the different sections.\r\n      </Typography>\r\n      <Typography variant=\"body1\">\r\n        This app is in its infancy - more content and features will be added over time.\r\n      </Typography>\r\n      <Box my={2}>\r\n        <Typography variant=\"h5\" gutterBottom variantMapping={headingVariantMapping}>\r\n          I don't understand how this works\r\n        </Typography>\r\n        <Typography variant=\"body1\" gutterBottom>\r\n          Head over to the\r\n          {' '}\r\n          <Link component={ReactRouterLink} to=\"/help\">\r\n            <ContactSupportIcon />\r\n            Help\r\n          </Link>\r\n          {' '}\r\n          section which details how various parts of the app work.\r\n        </Typography>\r\n        <Typography variant=\"body1\">\r\n          If that doesn't answer your question, see the section below...\r\n        </Typography>\r\n      </Box>\r\n      <Box my={2}>\r\n        <Typography variant=\"h5\" gutterBottom variantMapping={headingVariantMapping}>\r\n          I need to get in touch!!!\r\n        </Typography>\r\n        <Typography variant=\"body1\">\r\n          Have a suggestion? Run into a problem? Hop into the\r\n          {' '}\r\n          <Link href=\"https://discord.gg/WNbxZJ93\" rel=\"noopener\">\r\n            <img src={DiscordLogo} height=\"40px\" style={{marginBottom: '-17px'}} alt=\"Discord Logo\" />\r\n          </Link>\r\n          {' '}\r\n          server (\r\n          <Link href=\"https://discord.gg/WNbxZJ93\" rel=\"noopener\">https://discord.gg/WNbxZJ93</Link>\r\n          ) or message\r\n          {' '}\r\n          <Link href=\"https://instagram.com/pichucollector\" rel=\"noopener\">@pichucollector</Link>\r\n          {' '}\r\n          on Instagram.\r\n        </Typography>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport {\r\n  Link as ReactRouterLink,\r\n  useHistory,\r\n} from 'react-router-dom';\r\nimport {\r\n  card,\r\n  pokemonData,\r\n} from '../types';\r\nimport {\r\n  getPokemon,\r\n} from '../utils/api';\r\nimport {\r\n  formatCardName,\r\n  formatExpansionName,\r\n  formatPokemonName,\r\n  formatYear,\r\n  getDynamicCardSearchPlaceholder,\r\n  urlFriendlyName,\r\n} from '../utils/strings';\r\nimport {\r\n  urlFriendlyCardName,\r\n  urlFriendlyPokemonName,\r\n} from '../utils/urls';\r\nimport Box from '@material-ui/core/Box';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt';\r\nimport StyleIcon from '@material-ui/icons/Style';\r\nimport withSingleContentLoad from '../hocs/withSingleContentLoad';\r\nimport AutoComplete from '../components/AutoComplete';\r\nimport CardName from '../components/CardName';\r\nimport ExpansionCard from '../components/ExpansionCard';\r\nimport GradeTable from '../components/GradeTable';\r\nimport Loading from '../components/Loading';\r\nimport Tooltip from '../components/Tooltip';\r\n\r\nconst headingVariantMapping = {\r\n  h4: 'h1',\r\n  h5: 'h2',\r\n  h6: 'h3',\r\n}\r\n\r\ntype PokemonExpansionsProps = {\r\n  base: \"misc\" | \"pokemon\",\r\n  content: pokemonData,\r\n  name: string,\r\n}\r\n\r\nconst PokemonExpansions: React.FC<PokemonExpansionsProps> = ({\r\n  base,\r\n  content,\r\n  name: pokemon\r\n}) => {\r\n  const history = useHistory();\r\n  const [selectedCard, setSelectedCard] = React.useState<card>();\r\n  const [isLoading, setLoading] = React.useState<boolean>(false);\r\n  const [isPageLoading, setPageLoading] = React.useState<boolean>(true);\r\n\r\n  const basePathLength = `/${base}`.length;\r\n\r\n  const {\r\n    data,\r\n    grades,\r\n    history: gradeHistory,\r\n    total,\r\n  } = content;\r\n\r\n  React.useEffect(() => {\r\n    if (!Array.isArray(data)) {\r\n      return;\r\n    }\r\n\r\n    if (data.length === 1) {\r\n      setSelectedCard(data[0]);\r\n    }\r\n  }, [data]);\r\n\r\n  React.useEffect(() => {\r\n    const {\r\n      pathname,\r\n    } = history.location;\r\n\r\n    const [pathPokemon, pathCard] = pathname.substr(1 + basePathLength, 64).split('/');\r\n\r\n    if (!pathCard) {\r\n      setPageLoading(false);\r\n      return;\r\n    }\r\n\r\n    const urlSelectedCard = data.find(({ id }) => id === pathCard.substr(0, 16));\r\n\r\n    if (!urlSelectedCard) {\r\n      history.replace({\r\n        pathname: `/${base}/${pathPokemon}`,\r\n      });\r\n\r\n      setPageLoading(false);\r\n      return;\r\n    }\r\n\r\n    setSelectedCard(urlSelectedCard);\r\n    setPageLoading(false);\r\n    //eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    const {\r\n      pathname,\r\n    } = history.location;\r\n  \r\n    const [pathPokemon] = pathname.substr(1 + basePathLength, 64).split('/');\r\n    console.log(pathPokemon);\r\n    \r\n    if (pathPokemon === urlFriendlyPokemonName({ name: pokemon })) {\r\n      return;\r\n    }\r\n\r\n    if (!selectedCard) {\r\n      return;\r\n    }\r\n\r\n    if (!isPageLoading) {\r\n      setPageLoading(true);\r\n      return;\r\n    }\r\n\r\n    setSelectedCard(undefined);\r\n    setPageLoading(false);\r\n    //eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isPageLoading, pokemon]);\r\n\r\n  React.useEffect(() => {\r\n    if (isPageLoading) {\r\n      return;\r\n    }\r\n\r\n    setLoading(false);\r\n\r\n    const {\r\n      pathname,\r\n    } = history.location;\r\n    \r\n    const [pathPokemon, pathCard] = pathname.substr(1 + basePathLength, 64).split('/');\r\n    const newPathCard = urlFriendlyCardName(selectedCard);\r\n\r\n    if (pathCard === newPathCard) {\r\n      return;\r\n    }\r\n\r\n    if (!newPathCard) {\r\n      history.replace({\r\n        pathname: `/${base}/${pathPokemon}`,\r\n      });\r\n      return;\r\n    }\r\n\r\n    history.replace({\r\n      pathname: `/${base}/${pathPokemon}/${newPathCard}`,\r\n    });\r\n    //eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectedCard]);\r\n\r\n  const handleSelect = (card: card) => {\r\n    setLoading(true);\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  if (isPageLoading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <Box my={2}>\r\n      <Typography\r\n        paragraph\r\n        variant=\"h4\"\r\n        variantMapping={headingVariantMapping}\r\n      >\r\n        {formatPokemonName(content)}\r\n      </Typography>\r\n      <Typography\r\n        paragraph\r\n        variant=\"body1\"\r\n      >\r\n        PSA has graded {total}\r\n        {' '}\r\n        <Tooltip\r\n          placement=\"right\"\r\n          text=\"Cards which are not identical (i.e. from different sets or different variants).\"\r\n        >\r\n          distinct\r\n        </Tooltip>\r\n        {' '}\r\n        {pokemon} card{total === 1 ? '' : 's'}...\r\n      </Typography>\r\n      <AutoComplete\r\n        defaultSelectedOption={selectedCard}\r\n        disabled={data.length === 1}\r\n        id={`${pokemon}-expansions`}\r\n        label={`Select a ${pokemon} card...`}\r\n        options={data}\r\n        optionFormatter={({ expansion, ...rest }) => {\r\n          return `${formatCardName(rest, { defaultName: pokemon, numberParens: false, })} · ${formatExpansionName(expansion)}`;\r\n        }}\r\n        optionGroupFormatter={({ expansion }) => {\r\n          return formatYear(expansion.year);\r\n        }}\r\n        onChange={handleSelect}\r\n        placeholder={getDynamicCardSearchPlaceholder(data)}\r\n      />\r\n      {!isLoading ? (\r\n        <Box mt={2}>\r\n          {selectedCard ? (\r\n            <>\r\n              <CardName\r\n                card={selectedCard}\r\n                defaultName={pokemon}\r\n                showExpansion\r\n                variant=\"h5\"\r\n                variantMapping={headingVariantMapping}\r\n              />\r\n              <ExpansionCard\r\n                cardId={selectedCard.id}\r\n                expansionId={selectedCard.expansion!.id} \r\n              />\r\n              <Typography\r\n                paragraph\r\n                variant=\"body1\"\r\n                align=\"right\"\r\n              >\r\n                <Link component={ReactRouterLink} to={`/sets/${selectedCard.expansion!.id}`}>\r\n                  <ArrowRightAltIcon />\r\n                  {' '}\r\n                  <StyleIcon />\r\n                  {' '}\r\n                  {formatExpansionName(selectedCard.expansion!)}\r\n                </Link>\r\n              </Typography>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Typography\r\n                paragraph\r\n                variant=\"h5\"\r\n                variantMapping={headingVariantMapping}\r\n              >\r\n                All Grades\r\n              </Typography>\r\n              <GradeTable history={gradeHistory} total={grades} />\r\n            </>\r\n          )}\r\n        </Box>\r\n      ) : undefined}\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default withSingleContentLoad(\r\n  PokemonExpansions,\r\n  ({ base = 'pokemon', name }: PokemonExpansionsProps) => getPokemon.bind(null, base, urlFriendlyName(name))\r\n);","import React from 'react';\r\nimport {\r\n  Link as ReactRouterLink,\r\n  withRouter,\r\n} from 'react-router-dom';\r\nimport {\r\n  pokemon,\r\n} from '../types';\r\nimport {\r\n  getMiscList,\r\n} from '../utils/api';\r\nimport PokemonExpansions from '../trees/PokemonExpansions';\r\nimport {\r\n  formatPokemonName,\r\n} from '../utils/strings';\r\nimport {\r\n  urlFriendlyPokemonName,\r\n} from '../utils/urls';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport NaturePeopleIcon from '@material-ui/icons/NaturePeople';\r\nimport SearchPage from '../components/SearchPage';\r\n\r\nconst MiscList = () => {\r\n  return (\r\n    <>\r\n      <Typography\r\n        gutterBottom\r\n        variant=\"h4\"\r\n        variantMapping={{ h4: 'h1' }}\r\n      >\r\n        <NaturePeopleIcon fontSize=\"large\" />\r\n        {' '}\r\n        Miscellaneous\r\n      </Typography>\r\n      <Typography\r\n        paragraph\r\n        variant=\"body1\"\r\n      >\r\n        This page allows you to search for cards which do not feature a Pokémon in their name. This includes cards like\r\n        {' '}\r\n        <Link component={ReactRouterLink} to=\"/misc/MiracleDiamond/10z1m\">\r\n          Miracle Diamond\r\n        </Link>\r\n        {' '}\r\n        but doesn't include cards like\r\n        {' '}\r\n        <Link component={ReactRouterLink} to=\"/pokemon/Pikachu/e9y8\">\r\n          Pikachu {'{'}Illustrator, Holofoil{'}'}\r\n        </Link>\r\n        {' '} - for that you'll need to use the\r\n        {' '}\r\n        <Link component={ReactRouterLink} to=\"/pokemon\"><FaceIcon fontSize=\"small\" /> Pokémon</Link>\r\n        {' '}\r\n        section.\r\n      </Typography>\r\n      <SearchPage\r\n        apiFn={getMiscList}\r\n        basePath=\"/misc\"\r\n        id=\"misc-list\"\r\n        label=\"Search for a card... (e.g. Lass)\"\r\n        optionFormatter={(pokemon: pokemon) => formatPokemonName(pokemon, { hideNumber: true })}\r\n        placeholder=\"Pokemon Collector or German ...\"\r\n        renderResult={(selectedPokemon: pokemon) => (\r\n          <PokemonExpansions base=\"misc\" name={selectedPokemon.name} />\r\n        )}\r\n        urlFriendlyName={urlFriendlyPokemonName}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withRouter(MiscList);","import React from 'react';\r\nimport {\r\n  Link as ReactRouterLink,\r\n  withRouter,\r\n} from 'react-router-dom';\r\nimport {\r\n  pokemon,\r\n} from '../types';\r\nimport {\r\n  getPokemonList,\r\n} from '../utils/api';\r\nimport PokemonExpansions from '../trees/PokemonExpansions';\r\nimport {\r\n  formatPokemonName,\r\n} from '../utils/strings';\r\nimport {\r\n  urlFriendlyPokemonName,\r\n} from '../utils/urls';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport NaturePeopleIcon from '@material-ui/icons/NaturePeople';\r\nimport SearchPage from '../components/SearchPage';\r\n\r\nconst PokemonList = () => {\r\n  return (\r\n    <>\r\n      <Typography\r\n        gutterBottom\r\n        variant=\"h4\"\r\n        variantMapping={{ h4: 'h1' }}\r\n      >\r\n        <FaceIcon fontSize=\"large\" />\r\n        {' '}\r\n        Pokémon\r\n      </Typography>\r\n      <Typography\r\n        paragraph\r\n        variant=\"body1\"\r\n      >\r\n        This page allows you to search for entries belonging to specific Pokémon, like\r\n        {' '}\r\n        <Link component={ReactRouterLink} to=\"/pokemon/Pichu\">\r\n          Pichu\r\n        </Link>.\r\n        {' '}\r\n        This allows you to search for cards like \r\n        {' '}\r\n        <Link component={ReactRouterLink} to=\"/pokemon/Charizard/bnrw\">\r\n          Charizard 4 {'{'}Holofoil{'}'} · 1999 Base Set (1st Edition)\r\n        </Link>\r\n        {' '}\r\n        and also includes trainer cards like\r\n        {' '}\r\n        <Link component={ReactRouterLink} to=\"/pokemon/Venusaur/1g1w7\">\r\n          Venusaur Spirit Link 89 · 2016 XY Evolutions\r\n        </Link>\r\n        .\r\n      </Typography>\r\n      <Typography\r\n        paragraph\r\n        variant=\"body1\"\r\n      >\r\n        Entries which do not feature a Pokémon in their name can be found in the\r\n        {' '}\r\n        <Link component={ReactRouterLink} to=\"/misc\"><NaturePeopleIcon fontSize=\"small\" /> Miscellaneous</Link>\r\n        {' '}\r\n        section.\r\n      </Typography>\r\n      <SearchPage\r\n        apiFn={getPokemonList}\r\n        basePath=\"/pokemon\"\r\n        id=\"pokemon-select\"\r\n        label=\"Search for a Pokémon... (e.g. Pikachu)\"\r\n        optionFormatter={(pokemon: pokemon) => formatPokemonName(pokemon)}\r\n        placeholder=\"Pikachu or 025 or German ...\"\r\n        renderResult={(selectedPokemon: pokemon) => (\r\n          <PokemonExpansions base=\"pokemon\" name={selectedPokemon.name} />\r\n        )}\r\n        urlFriendlyName={urlFriendlyPokemonName}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withRouter(PokemonList);","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport {\r\n  Link as ReactRouterLink,\r\n} from 'react-router-dom';\r\nimport Box from '@material-ui/core/Box';\r\nimport Link from '@material-ui/core/Link';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport {\r\n  cardRanking,\r\n  expansionRanking,\r\n} from '../types';\r\nimport {\r\n  formatCardName,\r\n  formatExpansionName,\r\n} from '../utils/strings';\r\n\r\nconst headingVariantMapping = {\r\n  h4: 'h1',\r\n  h5: 'h2',\r\n  h6: 'h3',\r\n}\r\n\r\ntype RankSegmentProps = {\r\n  monthly?: cardRanking[] | expansionRanking[],\r\n  weekly?: cardRanking[] | expansionRanking[],\r\n  yearly?: cardRanking[] | expansionRanking[],\r\n  title: string\r\n}\r\n\r\nconst RankListElement = styled.ol({\r\n  listStyle: 'decimal',\r\n  margin: '16px 0 0',\r\n  padding: 0,\r\n\r\n  'li': {\r\n    display: 'flex',\r\n    fontSize: 16,\r\n\r\n    '> *': {\r\n      lineHeight: '22px',\r\n\r\n      '&:first-child': {\r\n        flexShrink: 0,\r\n        fontSize: 16,\r\n        lineHeight: '24px',\r\n        marginRight: 16,\r\n      },\r\n    },\r\n  }\r\n});\r\n\r\ntype RankListProps = {\r\n  data?: cardRanking[] | expansionRanking[]\r\n  hidden: boolean\r\n};\r\n\r\nconst RankList: React.FC<RankListProps> = ({\r\n  data,\r\n  hidden,\r\n}) => {\r\n  if (hidden || !Array.isArray(data) || !data.length) {\r\n    return <></>;\r\n  }\r\n\r\n  if ((data[0] as cardRanking).set) {\r\n    return (\r\n      <Box component={RankListElement} my={2} p={2}>\r\n        {(data as cardRanking[]).map((card, index) => {\r\n          return (\r\n            <Typography\r\n              component=\"li\"\r\n              paragraph={index !== data.length - 1}\r\n              variant=\"button\"\r\n            >\r\n              <Typography display=\"block\" variant=\"body2\">\r\n                <AddIcon fontSize=\"small\" />\r\n                {' '}\r\n                {card.popIncrease.toLocaleString()}\r\n              </Typography>\r\n              <Link component={ReactRouterLink} to={`/sets/${card.set.id}/${Number(card.id).toString(36)}`}>\r\n                {formatCardName(card)} {formatExpansionName(card.set)}\r\n              </Link>\r\n            </Typography>\r\n          )\r\n        })}\r\n      </Box>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Box component={RankListElement} my={2} p={2}>\r\n      {(data as expansionRanking[]).map((expansion, index) => {\r\n        return (\r\n          <Typography\r\n            component=\"li\"\r\n            paragraph={index !== data.length - 1}\r\n            variant=\"button\"\r\n          >\r\n            <Typography display=\"block\" variant=\"body2\">\r\n              <AddIcon fontSize=\"small\" />\r\n              {' '}\r\n              {expansion.popIncrease.toLocaleString()}\r\n            </Typography>\r\n            <Link component={ReactRouterLink} to={`/sets/${expansion.id}`}>\r\n              {formatExpansionName(expansion)}\r\n            </Link>\r\n          </Typography>\r\n        )\r\n      })}\r\n    </Box>\r\n  )\r\n}\r\n\r\nconst RankSegment: React.FC<RankSegmentProps> = ({\r\n  monthly,\r\n  weekly,\r\n  yearly,\r\n  title,\r\n}) => {\r\n  const [selected, setSelected] = React.useState<number>(0);\r\n\r\n  return (\r\n    <Box mt={4} mb={6}>\r\n      <Typography\r\n        gutterBottom\r\n        variant=\"h5\"\r\n        variantMapping={headingVariantMapping}\r\n      >\r\n        {title}\r\n      </Typography>\r\n      <Tabs\r\n        value={selected}\r\n        indicatorColor=\"primary\"\r\n        textColor=\"primary\"\r\n        onChange={(_, newValue) => setSelected(newValue)}\r\n        aria-label=\"ranking data\"\r\n      >\r\n        <Tab label=\"Weekly\" />\r\n        <Tab label=\"Monthly\" />\r\n        <Tab label=\"Yearly\" />\r\n      </Tabs>\r\n      <RankList data={weekly} hidden={selected !== 0} />\r\n      <RankList data={monthly} hidden={selected !== 1} />\r\n      <RankList data={yearly} hidden={selected !== 2} />\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default RankSegment;","import React from 'react';\r\nimport {\r\n  ranking,\r\n} from '../types';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormatListNumberedIcon from '@material-ui/icons/FormatListNumbered';\r\nimport RankSegment from '../components/RankSegment';\r\nimport withSingleContentLoad from '../hocs/withSingleContentLoad';\r\nimport {\r\n  getRanks,\r\n} from '../utils/api';\r\n\r\nconst headingVariantMapping = {\r\n  h4: 'h1',\r\n  h5: 'h2',\r\n  h6: 'h3',\r\n};\r\n\r\n\r\ntype RanksProps = {\r\n  content: ranking,\r\n}\r\n\r\nconst Ranks: React.FC<RanksProps> = ({\r\n  content,\r\n}) => {\r\n  const {\r\n    highestPerformingMonthlyCards,\r\n    highestPerformingWeeklyCards,\r\n    highestPerformingYearlyCards,\r\n    highestPerformingMonthlySets,\r\n    highestPerformingWeeklySets,\r\n    highestPerformingYearlySets,\r\n  } = content;\r\n\r\n  return (\r\n    <>\r\n      <Typography\r\n        gutterBottom\r\n        variant=\"h4\"\r\n        variantMapping={headingVariantMapping}\r\n      >\r\n        <FormatListNumberedIcon fontSize=\"large\" />\r\n        {' '}\r\n        Rankings\r\n      </Typography>\r\n      <Typography\r\n        variant=\"body1\"\r\n      >\r\n        This page reveals the content with the most grades over the past week, month (5 weeks) and year (52 weeks).\r\n      </Typography>\r\n      <Typography\r\n        variant=\"body2\"\r\n      >\r\n        Be aware that data is only updated once per week, so the data below may be offset by up to 7 days.\r\n      </Typography>\r\n      <RankSegment\r\n        monthly={highestPerformingMonthlyCards}\r\n        weekly={highestPerformingWeeklyCards}\r\n        yearly={highestPerformingYearlyCards}\r\n        title=\"Most graded cards...\"\r\n      />\r\n      <Divider />\r\n      <RankSegment\r\n        monthly={highestPerformingMonthlySets}\r\n        weekly={highestPerformingWeeklySets}\r\n        yearly={highestPerformingYearlySets}\r\n        title=\"Most graded sets...\"\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withSingleContentLoad(\r\n  Ranks,\r\n  () => getRanks,\r\n);","import React from 'react';\r\nimport {\r\n  Link as ReactRouterLink,\r\n} from 'react-router-dom';\r\nimport {\r\n  gradeHistory,\r\n} from '../types';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport BubbleChartIcon from '@material-ui/icons/BubbleChart';\r\nimport ContactSupportIcon from '@material-ui/icons/ContactSupport';\r\nimport GradeTable from '../components/GradeTable';\r\nimport withSingleContentLoad from '../hocs/withSingleContentLoad';\r\nimport {\r\n  getHistory,\r\n} from '../utils/api';\r\n\r\ntype StatsProps = {\r\n  content: gradeHistory[],\r\n}\r\n\r\nconst Stats: React.FC<StatsProps> = ({\r\n  content,\r\n}) => {\r\n  const [total, ...history] = content;\r\n\r\n  const {\r\n    cards: totalCards,\r\n    total: totalSets,\r\n  } = total;\r\n\r\n  return (\r\n    <>\r\n      <Typography\r\n        gutterBottom\r\n        variant=\"h4\"\r\n        variantMapping={{ h4: 'h1' }}\r\n      >\r\n        <BubbleChartIcon fontSize=\"large\" />\r\n        {' '}\r\n        Statistics\r\n      </Typography>\r\n      <Typography\r\n        variant=\"body1\"\r\n      >\r\n        This page reveals the total number of Pokémon-related items PSA has graded.\r\n      </Typography>\r\n      <Typography\r\n        paragraph\r\n        variant=\"body2\"\r\n      >\r\n        As with the other data displayed throughout the app, this does not include graded autographs.\r\n      </Typography>\r\n      <Typography\r\n        paragraph\r\n        variant=\"body1\"\r\n      >\r\n        PSA has graded <strong>{totalCards?.toLocaleString()}</strong> unique Pokémon cards spanning <strong>{totalSets?.toLocaleString()}</strong>* sets.\r\n      </Typography>\r\n      <Typography\r\n        paragraph\r\n        variant=\"body2\"\r\n      >\r\n        * This includes over 200 normalized sets (i.e. where PSA bundle 1st Edition, Shadowless and Unlimited Base Set cards into one mammoth &ldquo;Pokemon Game&rdquo; set, this app splits those into multiple smaller sets). For more information, please see the\r\n        {' '}\r\n        <Link component={ReactRouterLink} to=\"/help#data-normalization\">\r\n          <ContactSupportIcon fontSize=\"small\" />\r\n          {' '}\r\n          Data Normalization\r\n        </Link>\r\n        {' '}\r\n        help section.\r\n      </Typography>\r\n      <GradeTable\r\n        history={history}\r\n        historyDeductsFromTotal={false}\r\n        total={total.grades}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withSingleContentLoad(\r\n  Stats,\r\n  () => getHistory,\r\n);","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n} from 'react-router-dom';\nimport { createGlobalStyle } from 'styled-components';\nimport Box from '@material-ui/core/Box';\nimport Container from '@material-ui/core/Container';\nimport Loading from './components/Loading';\nimport PageFooter from './components/PageFooter';\nimport PageHeader from './components/PageHeader';\nimport ExpansionList from './pages/ExpansionList';\nimport Help from './pages/Help';\nimport Home from './pages/Home';\nimport MiscList from './pages/MiscList';\nimport PokemonList from './pages/PokemonList';\nimport Ranks from './pages/Ranks';\nimport Stats from './pages/Stats';\nimport {\n  keys,\n  version,\n} from './utils/api';\nimport {\n  version as versionType,\n} from './types';\n\nconst GlobalStyle = createGlobalStyle({\n  'html, body': {\n    margin: 0,\n  },\n\n  '.MuiSvgIcon-fontSizeSmall, .MuiSvgIcon-root': {\n    verticalAlign: 'top',\n  },\n\n  '.MuiTypography-h4 .MuiSvgIcon-fontSizeLarge': {\n    lineHeight: 1.235,\n  },\n\n  '.MuiTab-root': {\n    minWidth: 68,\n  },\n\n  '.Mui-expanded': {\n    '& > div > .MuiTreeItem-label': {\n      fontWeight: 'bold',\n    }\n  },\n\n  '.MuiTreeItem-root.Mui-selected': {\n    '& > .MuiTreeItem-content': {\n      '.MuiTreeItem-label': {\n        background: 'inherit',\n\n        '&:hover': {\n          background: 'inherit',\n          borderBottom: '1px solid #e0e0e0',\n        },\n      },\n    },\n\n    '&:focus': {\n      '& > .MuiTreeItem-content .MuiTreeItem-label': {\n        background: 'inherit',\n        borderBottom: '1px solid #e0e0e0',\n      }\n    }\n  },\n});\n\nfunction App() {\n  const [apiVersion, setAPIVersion] = React.useState<versionType>();\n  const [loading, setLoading] = React.useState<boolean>(true);\n\n  React.useEffect(() => {\n    /**\n     * When the application first loads we need to pull the /keys.json file from the API to perform\n     * key mapping in order to unminify other API responses. This is because the API itself uses\n     * minified keys for the sake of saving bandwidth.\n     */\n    (async() => {\n      const versionData = await version();\n      setAPIVersion(versionData);\n      await keys();\n      setLoading(false);\n    })();\n  }, []);\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  return (\n    <>\n      <GlobalStyle />\n      <Container maxWidth=\"md\">\n        <Router>\n          <PageHeader version={apiVersion} />\n          <Box my={3}>\n            <Route exact path=\"/\">\n              <Home />\n            </Route>\n            <Route exact path=\"/help\">\n              <Help />\n            </Route>\n            <Route path=\"/sets\">\n              <ExpansionList />\n            </Route>\n            <Route path=\"/misc\">\n              <MiscList />\n            </Route>\n            <Route path=\"/pokemon\">\n              <PokemonList />\n            </Route>\n            <Route exact path=\"/rankings\">\n              <Ranks />\n            </Route>\n            <Route exact path=\"/stats\">\n              <Stats />\n            </Route>\n          </Box>\n        </Router>\n      </Container>\n      <PageFooter />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}